

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enhancing Data Support: Practical Reproducibility documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_lesson.css" />
      <link rel="stylesheet" type="text/css" href="_static/term_role_formatting.css" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_rtd_theme_ext_color_contrast.css" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js"></script>
      <script src="_static/doctools.js"></script>
      <script src="_static/sphinx_highlight.js"></script>
      <script src="_static/clipboard.min.js"></script>
      <script src="_static/copybutton.js"></script>
      <script src="_static/minipres.js"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="_static/togglebutton.js"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="_static/tabs.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            Enhancing Data Support: Practical Reproducibility
          </a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Version Control with GitHub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-github-account">GitHub account</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-version-control-basics">Basics and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-creating-repo-using-web">Creating repositories using the web interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-contributing">Contributing to existing repositories using pull requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-group-work">How to organize a group’s work</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Jupyter notebooks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-noppe">Getting access to CSC Noppe</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-jupyter">Jupyter Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-jupyter-exercise">Jupyter Exercises</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optional lessons</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-doi-for-repo">Making your project citable</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-websites">Hosting websites/homepages on GitHub Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-sharing-notebooks">Sharing plots and notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-installing-python">Software install instructions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Enhancing Data Support: Practical Reproducibility</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Enhancing Data Support: Practical Reproducibility  documentation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/samumantha/github-jupyter-4-ds/blob/main/content/index" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="enhancing-data-support-practical-reproducibility">
<h1>Enhancing Data Support: Practical Reproducibility<a class="headerlink" href="#enhancing-data-support-practical-reproducibility" title="Link to this heading"></a></h1>
<div class="admonition-note-that-some-pages-may-be-using-older-versions-of-the-tools discussion important admonition" id="discussion-0">
<p class="admonition-title">Note that some pages may be using older versions of the tools.</p>
</div>
<p>This is part 2/2 of the webinar/workshop series on “Enhancing data support: Reproducibility” held at CSC in October 2025.</p>
<p>Part 1 introduced the concept of reproducibility in research and highlighted its importance.</p>
<p>This workshop will discuss two tools often involved when discussing reproducible computational reasearch: GitHub and Jupyter.</p>
<p>However, the time in this workshop is too short to give a full practical introduction of the tools.</p>
<p>We mainly want to provide a safe environment to experience these tools and give you some pointers as to when and where they are useful to inftroduce researchers to, as well as how they might be useful in your own work, even if you are not programming yourself.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<p>This is a lesson targeted at beginners, no prior knowledge of GitHub or Jupyter is needed.</p>
<p>If you would like to get your hands in the dirt and play around with the tools of this webinar, please come prepared with:</p>
<ul class="simple">
<li><p>A GitHub account (https://samumantha.github.io/github-jupyter-4-ds/github-account/)</p></li>
<li><p>Access to our Noppe workspace (https://samumantha.github.io/github-jupyter-4-ds/noppe/); If you have HAKA, VIRTU or CSC account, use those methods to log in, if you do not know what these are or do not have one already, you do not have to do anything about it. We will fix during the workshop, if you want to try it.</p></li>
</ul>
</section>
<section id="learning-outcomes">
<h2>Learning outcomes<a class="headerlink" href="#learning-outcomes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Discover best practices and understand the basic principles of version control and interactive computing platforms to support computational reproducibility.</p></li>
<li><p>Utilize the basic features of GitHub and Jupyter.</p></li>
<li><p>Know where those tools can be run and found.</p></li>
</ul>
</section>
<section id="content">
<h2>Content<a class="headerlink" href="#content" title="Link to this heading"></a></h2>
<p>During the course, we will use <a class="reference external" href="https://a3s.fi/slides/25-github-jupyter-4ds-slides.pdf">slides</a>.
You may also read up on the topics through material provided here.
Mostly the materials goes into more detail than what we discuss during course.
Feel free to explore on your own time!</p>
</section>
<section id="agenda-for-the-workshop">
<h2>Agenda for the workshop<a class="headerlink" href="#agenda-for-the-workshop" title="Link to this heading"></a></h2>
<p>Intro and practicalities (10min)</p>
<p>GitHub (45min)</p>
<ul class="simple">
<li><p>Version control</p></li>
<li><p>Creating a repository</p></li>
<li><p>Contributing to a repository</p></li>
</ul>
<p>Break (10min)</p>
<p>Jupyter (45min)</p>
<ul class="simple">
<li><p>Computational notebooks</p></li>
<li><p>Basic features</p></li>
</ul>
<p>Where to go from here (10min)</p>
<div class="toctree-wrapper compound">
<span id="document-github-account"></span><section id="github-account">
<h3>GitHub account<a class="headerlink" href="#github-account" title="Link to this heading"></a></h3>
<p>In this workshop, we use the public GitHub service and you need an
account at <a class="reference external" href="https://github.com">https://github.com</a> and a <a class="reference external" href="https://help.github.com/articles/supported-browsers/">supported web
browser</a>. Basic GitHub
accounts are free.</p>
<blockquote>
<div><p class="rubric" id="why-github">Why GitHub</p>
<p>We will do this exercise on <a class="reference external" href="https://github.com">GitHub</a> but also
<a class="reference external" href="https://gitlab.com">GitLab</a> and <a class="reference external" href="https://bitbucket.org">Bitbucket</a> allow
similar workflows and basically everything that we will discuss is transferable. With
this material and these exercises we do not endorse the company
<a class="reference external" href="https://github.com">GitHub</a>. We have chosen to demonstrate a number of
concepts using examples with <a class="reference external" href="https://github.com">GitHub</a> because it is
currently the most popular web platform for hosting Git repositories and the chance is high
that you will interact with <a class="reference external" href="https://github.com">GitHub</a>-based repositories even if you
choose to host your Git repository on another platform.</p>
<p>We also encourage course participants to use our new <a class="reference external" href="https://nordic-gitlab.deic.dk">Nordic research software repository platform hosted in Denmark</a>,
for more information see <a class="reference external" href="https://coderefinery.org/repository/">https://coderefinery.org/repository/</a>.</p>
</div></blockquote>
<p>If you are concerned about the personal information to reveal to GitHub, for
example how to keep your email address private, please review <a class="reference external" href="https://help.github.com/articles/keeping-your-email-address-private/">these
instructions</a>
for keeping your email address private provided at GitHub.</p>
<section id="create-a-github-account">
<h4>Create a GitHub account<a class="headerlink" href="#create-a-github-account" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Go to <a class="reference external" href="https://github.com">https://github.com</a>.</p></li>
<li><p>Click on the “Sign up” at the right-top corner.</p></li>
<li><p>Enter your username of your choice (if it is already used, you will get some suggestions), email address, and password.</p></li>
<li><p>Follow further instruction and verify your account.</p></li>
</ol>
<p>GitHub may require you to enable multi-factor authentication
(MFA). This is generally a good thing, but may take some time to set
up. Luckily, you probably don’t have to do this immediately. If you
are prompted to enable MFA before the end of the workshop, follow
GitHub’s instructions since they are usually pretty good.</p>
</section>
<section id="how-to-verify-that-this-worked">
<h4>How to verify that this worked<a class="headerlink" href="#how-to-verify-that-this-worked" title="Link to this heading"></a></h4>
<p>If you can log in to <a class="reference external" href="https://github.com">https://github.com</a>, you should be good to go.</p>
</section>
</section>
<span id="document-version-control-basics"></span><section id="basics-and-motivation">
<h3>Basics and motivation<a class="headerlink" href="#basics-and-motivation" title="Link to this heading"></a></h3>
<div class="admonition-questions questions admonition" id="questions-0">
<p class="admonition-title">Questions</p>
<ul class="simple">
<li><p>What is version control and why?</p></li>
<li><p>What are common terms used around version control?</p></li>
</ul>
</div>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Get an idea of why version control can be useful.</p></li>
<li><p>Understand the difference between Git and GitHub.</p></li>
<li><p>Get a mental representation for commits and branches.</p></li>
</ul>
</div>
<div class="admonition-what-we-will-not-cover discussion important admonition" id="discussion-0">
<p class="admonition-title">What we will not cover</p>
<ul class="simple">
<li><p>Command line interface</p></li>
<li><p>GitHub Desktop</p></li>
<li><p>Cloning using SSH protocol and SSH keys</p></li>
<li><p>Rebasing and squashing</p></li>
<li><p>Many Git tricks which can be explored later</p></li>
</ul>
</div>
<section id="version-control">
<h4>Version control<a class="headerlink" href="#version-control" title="Link to this heading"></a></h4>
<section id="why-version-control">
<h5>Why version control?<a class="headerlink" href="#why-version-control" title="Link to this heading"></a></h5>
<p>Version control is the answer to these questions:</p>
<ul class="simple">
<li><p>“It broke… hopefully I have a working version somewhere?”</p></li>
<li><p>“Where is the latest version, and which one should I trust?”</p></li>
<li><p>“I am sure it used to work. What changed, when, and why?”</p></li>
<li><p>“When did this problem appear?”</p></li>
<li><p>“Something looks different — what was updated, and who did it?”</p></li>
</ul>
<p>-&gt; Version control is simply a reliable way to remember, explain, and reproduce the evolution of digital research materials.</p>
</section>
<section id="what-are-version-control-tools">
<h5>What are version control tools?<a class="headerlink" href="#what-are-version-control-tools" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Version control is a tool that can <strong>record snapshots of a project</strong>.</p></li>
<li><p>You can think of version control like regularly taking a photo of your work.</p></li>
</ul>
<figure class="align-default" id="id1">
<img alt="_images/commits-snapshots.png" class="with-border" src="_images/commits-snapshots.png" />
<figcaption>
<p><span class="caption-text">Snapshots (<strong>commits</strong>) in the <a class="reference external" href="https://github.com/achael/eht-imaging">EHT-imaging</a> repository.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="what-we-typically-like-to-version-control-or-snapshot">
<h5>What we typically like to version control (or “snapshot”)?<a class="headerlink" href="#what-we-typically-like-to-version-control-or-snapshot" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Software (this is how it started but Git/GitHub can track a lot more)</p></li>
<li><p>Scripts</p></li>
<li><p>Documents (plain text file much better suitable than Word documents)</p></li>
<li><p>Manuscripts (Git is great for collaborating/sharing LaTeX manuscripts)</p></li>
<li><p>Configuration files</p></li>
<li><p>Website sources</p></li>
<li><p>Data</p></li>
</ul>
</section>
<section id="why-are-snapshots-valuable-reproducibility">
<h5>Why are snapshots valuable? Reproducibility!<a class="headerlink" href="#why-are-snapshots-valuable-reproducibility" title="Link to this heading"></a></h5>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/research_comic_phd.gif"><img alt="Research comic" src="_images/research_comic_phd.gif" style="width: 100%;" />
</a>
</figure>
<ul class="simple">
<li><p>We can always go back if we make a mistake.</p></li>
<li><p>We can test new ideas without editing the working version</p></li>
<li><p>If we discover a problem, we can find out when it was introduced.</p></li>
<li><p>We have the means to refer to a well-defined version of a project when sharing, collaborating, and publishing.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="difference-between-git-and-github">
<h4>Difference between <a class="reference external" href="https://git-scm.com">Git</a> and <a class="reference external" href="https://github.com">GitHub</a><a class="headerlink" href="#difference-between-git-and-github" title="Link to this heading"></a></h4>
<p><strong>Git</strong></p>
<ul class="simple">
<li><p>Tool that can record and synchronize snapshots.</p></li>
<li><p>Not the only tool that can record snapshots (other popular tools are
<a class="reference external" href="https://subversion.apache.org">Subversion</a> and <a class="reference external" href="https://www.mercurial-scm.org">Mercurial</a>).</p></li>
<li><p>Not only a tool but also a format that can be read by many different tools.</p></li>
</ul>
<p><strong>GitHub</strong></p>
<ul class="simple">
<li><p>Service that provides hosting for Git repositories with a nice web interface.</p></li>
<li><p>Not the only service that provides this (other popular services are
<a class="reference external" href="https://about.gitlab.com/">GitLab</a> and <a class="reference external" href="https://bitbucket.org">Bitbucket</a>).</p></li>
</ul>
<p><strong>Git integration</strong></p>
<ul class="simple">
<li><p>Many other tool also provide a git integration. Commonly used by researchers e.g. <a class="reference internal" href="#"><span class="xref myst">VSCode</span></a>, <a class="reference internal" href="#"><span class="xref myst">RStudio</span></a>, <a class="reference internal" href="#"><span class="xref myst">GitHub Desktop</span></a>, <a class="reference internal" href="#"><span class="xref myst">JupyterLab</span></a>, <a class="reference internal" href="#"><span class="xref myst">Overleaf</span></a> mostly hiding git complexity, while providing same benefit.</p></li>
</ul>
<blockquote>
<div><p>You may have seen Git(Hub) many tutorials for git on the command line. We will stick to GitHub website.
Why?  Because for many cases, it is enough.  Especially if you are contributing to existing non-code projects, this may be the
fastest, easiest way to do it.  Git and GitHub provide collaboration tools to all kinds of projects, and there are all kinds of good ways to use it.</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="commits-branches-repositories-forks-clones">
<h4>Commits, branches, repositories, forks, clones<a class="headerlink" href="#commits-branches-repositories-forks-clones" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>repository</strong>: The project, contains all data and history (commits, branches, tags).</p></li>
<li><p><strong>branch</strong>: Independent development line, often we call the main development line <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p></li>
<li><p><strong>commit</strong>: Snapshot of the project, gets a unique identifier (e.g. <code class="docutils literal notranslate"><span class="pre">c7f0e8bfc718be04525847fc7ac237f470add76e</span></code>).</p></li>
<li><p><strong>tag</strong>: A pointer to one commit, to be able to refer to it later. Like a sticky note that you attach to a particular commit (e.g. <code class="docutils literal notranslate"><span class="pre">phd-printed</span></code> or <code class="docutils literal notranslate"><span class="pre">paper-submitted</span></code>).</p></li>
<li><p><strong>cloning</strong>: Copying the whole repository to your laptop - the first time. It is not necessary to download each file one by one.</p></li>
<li><p><strong>forking</strong>: Taking a copy of a repository (which is typically not yours) - your
copy (fork) stays on GitHub and you can make changes to your copy.</p></li>
<li><p><strong>Pull request</strong>: An executed idea, e.g. code suggestion to integrate.</p></li>
<li><p><strong>Issue</strong>: An idea, bug report or suggestion written in text.</p></li>
</ul>
<figure class="align-default" id="id2">
<img alt="_images/file-view.png" class="with-border" src="_images/file-view.png" />
<figcaption>
<p><span class="caption-text">GitHub file view of the
<a class="reference external" href="https://github.com/achael/eht-imaging">EHT-imaging</a>
repository.  This is the version of all files at a single point in
time.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<img alt="_images/history-demo.png" class="with-border" src="_images/history-demo.png" />
<figcaption>
<p><span class="caption-text">Github history view of the
<a class="reference external" href="https://github.com/achael/eht-imaging">EHT-imaging</a>
repository.  This is the progression of the repository (with the
<strong>commit message</strong> over time).</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id4">
<img alt="_images/commits-and-branches.svg" class="with-border" src="_images/commits-and-branches.svg" />
<figcaption>
<p><span class="caption-text">Network graph of all commits in the
<a class="reference external" href="https://github.com/achael/eht-imaging/network">EHT-imaging</a>
repository.  This shows the relationship between different <strong>forks</strong>
of people who are contributing and sharing code.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="interesting-repositories-to-explore-these-concepts">
<h5>Interesting repositories to explore these concepts<a class="headerlink" href="#interesting-repositories-to-explore-these-concepts" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><a class="reference external" href="http://activityinequality.stanford.edu/">Activity inequality study</a></p>
<ul>
<li><p>Contains data and code necessary to create figures from their article.</p></li>
<li><p>Data: <a class="reference external" href="https://github.com/timalthoff/activityinequality/tree/master/data">https://github.com/timalthoff/activityinequality/tree/master/data</a></p></li>
</ul>
</li>
<li><p>Entire books are written using Git/GitHub:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/alan-turing-institute/the-turing-way">https://github.com/alan-turing-institute/the-turing-way</a></p></li>
</ul>
</li>
<li><p>Papers under open review:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/openjournals/joss-reviews/issues">https://github.com/openjournals/joss-reviews/issues</a></p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<blockquote>
<div><p class="rubric" id="why-use-repositories-think-of-your-usecases-for-the-following">Why use repositories? Think of your usecases for the following:</p>
<ul class="simple">
<li><p>All changes are recorded.</p></li>
<li><p>We do not have to send changes via email.</p></li>
<li><p>We can experiment with several ideas which might not work out (using branches).</p></li>
<li><p>Several people can work on the same project at the same time (using branches).</p></li>
<li><p>We do not have to wait for others to send us “the latest version” over email.</p></li>
<li><p>We do not have to merge parallel developments by hand.</p></li>
<li><p>Group-based access model where shared access is the default, instead of
everything fundamentally owned by individuals who manage sharing as-needed:
with Git you can easily have collaboration be the default.</p></li>
<li><p>It is possible to serve websites directly from a repository.</p></li>
</ul>
</div></blockquote>
<p>{: .discussion}</p>
<div class="admonition-discussion-workflows-without-version-control discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion: workflows without version control</p>
<ul class="simple">
<li><p>How have you solved these in the past without version control?</p></li>
</ul>
</div>
</section>
</section>
</section>
<span id="document-creating-repo-using-web"></span><section id="creating-repositories-using-the-web-interface">
<h3>Creating repositories using the web interface<a class="headerlink" href="#creating-repositories-using-the-web-interface" title="Link to this heading"></a></h3>
<p>We will practice creating a new repository using the web interface, committing
changes to it, browsing the changes, creating branches, and more.
This is everything you need to do basic file management, though when working a lot with git, you may want to switch to other tools to work faster. Still, using the webinterface can be good for quick edits and contributions.</p>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<p>In this episode we are all in the main room and do these steps together as
follow-along with pauses with time for questions and answers.</p>
</div>
<hr class="docutils" />
<section id="step-1-create-a-repository-with-a-readme-and-a-license">
<h4>Step 1: Create a repository with a README and a license<a class="headerlink" href="#step-1-create-a-repository-with-a-readme-and-a-license" title="Link to this heading"></a></h4>
<p>You start off by creating a repository from the web.  In fact, we
usually end up doing this from the web, no matter how you do your daily
work.  The important questions are who is the <em>owner</em> and what is the
<em>name</em> of the repository.</p>
<p>Make sure that you are <strong>logged into GitHub</strong>.</p>
<p>To create a repository we either click the green button “New” (top left corner):</p>
<figure class="align-default">
<img alt="_images/new-top-left.png" class="with-border" src="_images/new-top-left.png" />
</figure>
<hr class="docutils" />
<p>Or if you see your profile page, there is a “+” menu (top right corner):</p>
<figure class="align-default">
<img alt="_images/new-top-right.png" class="with-border" src="_images/new-top-right.png" />
</figure>
<hr class="docutils" />
<p>Yet another way to create a new repository is to visit
<a class="reference external" href="https://github.com/new">https://github.com/new</a> directly.</p>
<hr class="docutils" />
<p>We then land at the following form.  Please fill it out and set <strong>Initialize
this repository with a README</strong>.</p>
<figure class="align-default">
<img alt="_images/form.png" class="with-border" src="_images/form.png" />
</figure>
<hr class="docutils" />
<p>And now we have a repository with a README and one commit:</p>
<figure class="align-default">
<img alt="_images/created.png" class="with-border" src="_images/created.png" />
</figure>
</section>
<hr class="docutils" />
<section id="step-2-create-a-new-file">
<h4>Step 2: Create a new file<a class="headerlink" href="#step-2-create-a-new-file" title="Link to this heading"></a></h4>
<p>We can now add new files from the web interface.</p>
<p>Create a file, e.g. <code class="docutils literal notranslate"><span class="pre">guacamole.md</span></code> (the “md” ending signals that this is in Markdown format):</p>
<figure class="align-default">
<img alt="_images/new-file-buttons.png" class="with-border" src="_images/new-file-buttons.png" />
</figure>
<p>In the new file you can share your favorite cooking recipe (or something else).
You can also copy-paste this as a starting point:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ingredients</span><span class="p">:</span>
<span class="o">-</span> <span class="mi">2</span> <span class="n">avocados</span>
<span class="o">-</span> <span class="mi">1</span> <span class="n">lime</span>
<span class="o">-</span> <span class="mi">2</span> <span class="n">tsp</span> <span class="n">salt</span>

<span class="n">Instructions</span><span class="p">:</span>
<span class="o">-</span> <span class="n">cut</span> <span class="ow">and</span> <span class="n">mash</span> <span class="n">avocados</span>
<span class="o">-</span> <span class="n">chop</span> <span class="n">onion</span>
<span class="o">-</span> <span class="n">squeeze</span> <span class="n">lime</span>
<span class="o">-</span> <span class="n">add</span> <span class="n">salt</span>
<span class="o">-</span> <span class="ow">and</span> <span class="n">mix</span> <span class="n">well</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/new-file-editor.png" class="with-border" src="_images/new-file-editor.png" />
</figure>
<p>Then add a commit message and commit (save):</p>
<figure class="align-default">
<img alt="_images/new-file-commit.png" class="with-border" src="_images/new-file-commit.png" />
</figure>
<div class="admonition-discussion-good-commit-messages discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion: Good commit messages</p>
<ul class="simple">
<li><p>What and why something has changed is more useful than which file has changed</p></li>
<li><p>Pretend others will need to understand already now, even if it is your personal project</p></li>
<li><p>Write commit messages in English that will be understood
15 years from now by someone else than you.</p></li>
</ul>
</div>
</section>
<hr class="docutils" />
<section id="step-3-modify-a-file">
<h4>Step 3: Modify a file<a class="headerlink" href="#step-3-modify-a-file" title="Link to this heading"></a></h4>
<p>We can also modify files from the web.</p>
<p>Now improve the recipe by adding an ingredient or an instruction step:</p>
<ul class="simple">
<li><p>Click on the file.</p></li>
<li><p>Click the “pen” icon on top right (“edit this file”).</p></li>
</ul>
<p>Make an improvement, write a commit message, commit:</p>
<figure class="align-default">
<img alt="_images/edit-file-preview.png" class="with-border" src="_images/edit-file-preview.png" />
</figure>
<p>Once you have done that, browse your commits:</p>
<figure class="align-default">
<img alt="_images/commits-browse.png" class="with-border" src="_images/commits-browse.png" />
</figure>
<p>In my example I got:</p>
<figure class="align-default">
<img alt="_images/commits-example.png" class="with-border" src="_images/commits-example.png" />
</figure>
</section>
<hr class="docutils" />
<section id="step-4-create-a-new-branch">
<h4>Step 4: Create a new branch<a class="headerlink" href="#step-4-create-a-new-branch" title="Link to this heading"></a></h4>
<p>A <strong>branch</strong> is a separate line of development. They are useful when
you have multiple things going on at once and you don’t want them to
get in the way of each other.  It also allows collaboration.</p>
<ul class="simple">
<li><p>Create a new branch:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/create-branch.png" class="with-border" src="_images/create-branch.png" />
</figure>
<ul class="simple">
<li><p>Modify your recipe on the newly created branch. Make sure you commit to the new branch:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/commit-experiment-branch.png" class="with-border" src="_images/commit-experiment-branch.png" />
</figure>
<ul class="simple">
<li><p>Then switch back to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and browse your recipe there. Compare the file on both branches.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="step-5-how-can-we-merge-branches">
<h4>Step 5: How can we merge branches?<a class="headerlink" href="#step-5-how-can-we-merge-branches" title="Link to this heading"></a></h4>
<p>We made a separate branch, separate from the main branch <code class="docutils literal notranslate"><span class="pre">main</span></code>.
What happens when we decide we like that change, and want to take it
into use?  We will soon see the magic of Git.</p>
<p>First browse to the overview of all branches:</p>
<figure class="align-default">
<img alt="_images/branches-click.png" class="with-border" src="_images/branches-click.png" />
</figure>
<p>Now to initiate a merge (request), click on “New pull request”:</p>
<figure class="align-default">
<img alt="_images/branches-overview.png" class="with-border" src="_images/branches-overview.png" />
</figure>
<p>Once a “pull request” (think of it as a change proposal) is open, it can be
reviewed and merged.</p>
</section>
<hr class="docutils" />
<section id="step-7-optional-adding-a-license-to-our-repository">
<h4>Step 7 (Optional): Adding a license to our repository<a class="headerlink" href="#step-7-optional-adding-a-license-to-our-repository" title="Link to this heading"></a></h4>
<p><em>This is an optional step which the instructor may demonstrate and discuss.</em></p>
<p>How to add a license to an existing repository:</p>
<ul class="simple">
<li><p>Visit <a class="reference external" href="https://choosealicense.com/">https://choosealicense.com/</a> and let it guide you.</p></li>
<li><p>If you don’t find a suitable license,
choose among <a class="reference external" href="https://choosealicense.com/appendix/">https://choosealicense.com/appendix/</a>.</p></li>
<li><p>Once you have chosen, click on the license name, and you can enter your GitHub repository URL (top right)
which will open a pull request (change request) to the repository:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/choosealicense.png" class="with-border" src="_images/choosealicense.png" />
</figure>
</section>
<hr class="docutils" />
<section id="optional-insights">
<h4>Optional : Insights<a class="headerlink" href="#optional-insights" title="Link to this heading"></a></h4>
<p>Github gives us many insights into our repository.  Nothing here is
really specific to Github (everything can be done with regular Git),
but they make it especially easy to see.  The <strong>network</strong> lets you see
how all commits and branches relate.</p>
<p>Have a look at the network, hover over the dots in the graph
(commits).  The network view is the best way to get an overview of
your branches and commits, and it never hurts to come back here and
check:</p>
<figure class="align-default">
<img alt="_images/network.png" class="with-border" src="_images/network.png" />
</figure>
<div class="admonition-summary discussion important admonition" id="discussion-1">
<p class="admonition-title">Summary</p>
<p>In this episode, we saw how we could do basic file management from the
web.  It’s not the best for making lots of new content, but it’s
pretty convenient for quick edits.  We will now see more advanced ways
to do the same things - you can always check back on the web to see
the effect.</p>
</div>
</section>
</section>
<span id="document-contributing"></span><section id="contributing-to-existing-repositories-using-pull-requests">
<h3>Contributing to existing repositories using pull requests<a class="headerlink" href="#contributing-to-existing-repositories-using-pull-requests" title="Link to this heading"></a></h3>
<section id="exercise">
<h4>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>We first open an issue via the web interface
and describe our idea. In the issue we can collect feedback</p></li>
<li><p>We clone the exercise repository using GitHub Desktop</p></li>
<li><p>Create a new branch</p></li>
<li><p>Add the new file to the local repository</p></li>
<li><p>Commit and refer to the issue (e.g. here closing issue number 12: “this is the commit message, closes #12”)</p></li>
<li><p>Try to publish that branch (you may not have write permissions to the repository on GitHub)</p></li>
<li><p>If you don’t have write permissions: “Fork this repository”, then try to publish the branch to the fork</p></li>
<li><p>“Create Pull Request”</p></li>
<li><p>If you forgot to refer to the issue in the commit, you can <a class="reference external" href="https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue">refer to the issue</a> in the pull request</p></li>
</ul>
<p>In this session we will learn how to contribute to repositories which either
belong to a group that you are part of or
belong to others.</p>
<p>We will do this in a progression from a small trivial fix to a change proposal
and discuss the pros and cons.</p>
<div class="admonition-different-methods-to-download-a-repository discussion important admonition" id="discussion-0">
<p class="admonition-title">Different methods to “download” a repository</p>
<ul class="simple">
<li><p>Download all files in a repository as ZIP file (green button “Clone or download”) if you do not plan to change files
and if you are sure that you don’t need to browse the history of file changes.</p></li>
<li><p><strong>Possibly better: you clone the repository</strong> (green button on the web or through GitHub Desktop or using command line) so that you can apply and track changes and possibly share them later.</p></li>
<li><p>Cloning copies not only the latest version but all snapshots and all branches and tags: entire history.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>The instructor will prepare an example repository and share the link with the
participants (see instructor guide for more details).</p></li>
<li><p>This is a good example text: <a class="reference external" href="https://www.gutenberg.org/ebooks/24542">https://www.gutenberg.org/ebooks/24542</a></p></li>
<li><p>When showing how to add a collaborator, also show how to unwatch a repo.</p></li>
</ul>
</div>
</section>
<hr class="docutils" />
<section id="step-1-learn-how-to-add-collaborators-to-your-repository">
<h4>Step 1: Learn how to add collaborators to your repository<a class="headerlink" href="#step-1-learn-how-to-add-collaborators-to-your-repository" title="Link to this heading"></a></h4>
<p>Now we know how to share repositories and the first step to allow changes by
others would be to add your group members or collaborators as “collaborators”
under GitHub.  This allows them to change things directly (but we’ll
actually do it with review).</p>
<ul class="simple">
<li><p>Instructor adds one or two learners who volunteer to later contribute a change via screen sharing.</p></li>
<li><p>You can try this with one of the repositories which we created in the earlier episodes.</p></li>
<li><p>Click on “Settings” (top right), then “Manage access” (left), then “Invite a collaborator” (green button).</p></li>
</ul>
<figure class="align-default">
<img alt="_images/invite-collaborators.png" class="with-border" src="_images/invite-collaborators.png" />
</figure>
<p>From here on the collaborators can push changes in the same way as we have done in a
single-person repository in the previous episodes.</p>
<div class="admonition-discussion discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Discuss the advantages and possible disadvantages of this setup.</p></li>
</ul>
</div>
</section>
<hr class="docutils" />
<section id="step-2-submit-a-small-change-via-the-web-interface-as-collaborator">
<h4>Step 2: Submit a small change via the web interface as collaborator<a class="headerlink" href="#step-2-submit-a-small-change-via-the-web-interface-as-collaborator" title="Link to this heading"></a></h4>
<p>In the last episodes we learned how to directly commit changes either via web
or via the desktop and you need to be a collaborator (have write permissions)
to be able to do that.</p>
<p>In this exercise we will not change the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch directly but
we will submit a “pull request” (a <strong>change proposal</strong>) towards the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch
for <strong>code review</strong>.</p>
<p><strong>Exercise</strong>: We will practice this by suggesting a change in a recipe book:</p>
<ul class="simple">
<li><p>Instructor shares an example repository and adds a volunteer learner as collaborator</p></li>
<li><p>Learner shares screen and edits <code class="docutils literal notranslate"><span class="pre">recipes.txt</span></code> via web (click on the edit pen)</p></li>
<li><p>We modify or extend one recipe from the example repository together by guiding the volunteer learner</p></li>
<li><p>We do not commit directly to <code class="docutils literal notranslate"><span class="pre">main</span></code> but rather “Create a new branch for this commit and start a pull request.”</p></li>
<li><p>We choose a meaningful branch name (it can be useful to prefix it with your name so that we know who this branch belongs to)</p></li>
</ul>
<figure class="align-default">
<img alt="_images/propose-file-change.png" class="with-border" src="_images/propose-file-change.png" />
</figure>
<ul class="simple">
<li><p>After we click “Propose file change” we are taken to this form:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/pull-request-form.png" class="with-border" src="_images/pull-request-form.png" />
</figure>
<ul class="simple">
<li><p>In there we verify the <strong>source and target branch</strong>, verify the <strong>file changes</strong>,
can edit the <strong>title</strong> and <strong>description</strong> of the “pull request” (change proposal)</p></li>
<li><p>After we have submitted the “pull request”, one of our collaborators can review it</p></li>
<li><p>We can discuss and ask for changes before merging the changes “Merge pull request”</p></li>
</ul>
<div class="admonition-discussion discussion important admonition" id="discussion-2">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Ideally submitter and reviewer should be two different persons.
When is this best? When not?</p></li>
<li><p>You can modify an open “pull request” by committing new changes to the branch</p></li>
<li><p>Review is not only to assure quality but also to enhance learning and <strong>knowledge transfer</strong> within the group</p></li>
</ul>
</div>
<hr class="docutils" />
<p>To make sure that <em>all</em> changes of the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch are reviewed and nobody
can push commits to it directly, it can be useful to “protect” branches.</p>
<ul class="simple">
<li><p>“Settings”, then “Branches”, then “Add rule”:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/branch-protection.png" class="with-border" src="_images/branch-protection.png" />
</figure>
<p>Protecting the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch “forces” all changes to it to be reviewed first.
<strong>We recommend this for group repositories</strong>.</p>
</section>
<hr class="docutils" />
<section id="step-3-submit-a-small-change-via-the-web-interface-as-external-contributor">
<h4>Step 3: Submit a small change via the web interface as external contributor<a class="headerlink" href="#step-3-submit-a-small-change-via-the-web-interface-as-external-contributor" title="Link to this heading"></a></h4>
<p>Submitting a change proposal as external contributor (we assume you are not added
as “collaborator” and thus have no write-permissions to a repository) looks very similar
to submitting a “pull request” to a repository with a protected <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.
Only this time you have no other choice than “Propose file change”.</p>
<p>Let’s try this with one participant who has not been added as collaborator
sharing screen:</p>
<ul class="simple">
<li><p>Edit a file with the “pen” button</p></li>
<li><p>Edit the commit message and click green button “Propose file change”</p></li>
<li><p>This creates a <strong>fork</strong> of the repository (GitHub makes a copy of the original repository to your user space)</p></li>
<li><p>You can now still review the change before submitting it, green button “Create pull request”</p></li>
<li><p>Later you can remove the fork if you like</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="step-4-resolving-a-conflict">
<h4>Step 4: Resolving a conflict<a class="headerlink" href="#step-4-resolving-a-conflict" title="Link to this heading"></a></h4>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-1">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>“Non-talking instructor” prepares a conflicting commit during session (check
what the first PR does).</p></li>
<li><p>Conflict can be shown as demo.</p></li>
</ul>
</div>
<section id="exercise-demo-let-us-experience-a-conflict">
<h5>Exercise/demo: let us experience a conflict<a class="headerlink" href="#exercise-demo-let-us-experience-a-conflict" title="Link to this heading"></a></h5>
<p><strong>When merging</strong> two branches a conflict can arise when the same file <strong>portion</strong>
has been modified in two <strong>different</strong> ways on the two branches.</p>
<p>We can practice how a conflict looks and how to resolve it:</p>
<ul class="simple">
<li><p>Two participants should send two “pull requests” (change proposals)
branching from <code class="docutils literal notranslate"><span class="pre">master</span></code> changing the same line in two different ways</p></li>
</ul>
<figure class="align-default">
<img alt="_images/conflict-edit-1.png" class="with-border" src="_images/conflict-edit-1.png" />
</figure>
<figure class="align-default">
<img alt="_images/conflict-edit-2.png" class="with-border" src="_images/conflict-edit-2.png" />
</figure>
<ul class="simple">
<li><p>We merge together one of the pull requests (this will work)</p></li>
<li><p>Then we try to merge the other and we see a conflict:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/conflict-pull-request.png" class="with-border" src="_images/conflict-pull-request.png" />
</figure>
<ul class="simple">
<li><p>We try to resolve the conflict via web</p></li>
<li><p>Choose the version that you wish to keep, remove conflict markers, “Mark as resolved” and commit the change</p></li>
</ul>
<figure class="align-default">
<img alt="_images/conflict-resolution.png" class="with-border" src="_images/conflict-resolution.png" />
</figure>
<div class="admonition-discussion discussion important admonition" id="discussion-3">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Compare with Google Docs: can you get conflicts there? What are the advantages and disadvantages?</p></li>
<li><p>What can we do to avoid conflicts?</p></li>
</ul>
</div>
</section>
<section id="bonus-exercise">
<h5>Bonus exercise<a class="headerlink" href="#bonus-exercise" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Send a pull request with a typo/mistake in it and adjust the pull request with a subsequent commit. Discuss
how adjusting pull requests can be a useful mechanism.</p></li>
</ul>
<hr class="docutils" />
<div class="admonition-summary discussion important admonition" id="discussion-4">
<p class="admonition-title">Summary</p>
<ul class="simple">
<li><p>In this episode we learned how to propose changes and submit changes via “pull requests”.</p></li>
<li><p>If you track and collaborate on text files it can be useful to wrap lines. If the entire
paragraph is one long line, if will be more difficult to see what changed,
and you risk seeing more conflicts.</p></li>
<li><p>Protecting the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and insisting on every change going
through a pull request can be useful to get feedback on your changes
and to improve knowledge transfer.</p></li>
<li><p>For controversial changes it can
be useful to first discuss in an issue before submitting the changes.</p></li>
<li><p>Note that you can mark pull requests as draft to collect feedback on unfinished work.</p></li>
<li><p>Now that you know how to send improvements, we welcome
improvements to <a class="reference external" href="https://github.com/coderefinery/github-without-command-line">this material</a> also.</p></li>
</ul>
</div>
</section>
</section>
</section>
<span id="document-group-work"></span><section id="how-to-organize-a-group-s-work">
<h3>How to organize a group’s work<a class="headerlink" href="#how-to-organize-a-group-s-work" title="Link to this heading"></a></h3>
<section id="github-organizations">
<h4>GitHub organizations<a class="headerlink" href="#github-organizations" title="Link to this heading"></a></h4>
<p>Should I start a repository under my account or open a new organization?</p>
<ul class="simple">
<li><p>Single-person projects often start under own account.</p></li>
<li><p>It is no problem to move a project from own namespace to an organization later.</p></li>
<li><p>When starting a larger project with several people, possibly several affiliations, an organization may be a better start.</p></li>
<li><p>If this is a GitHub pages project, then it will matter for the URL:
<code class="docutils literal notranslate"><span class="pre">myuser.github.io/myproject/</span></code> vs. <code class="docutils literal notranslate"><span class="pre">ourorg.github.io/ourproject/</span></code>.</p></li>
</ul>
<p>Should I add everybody as collaborator?</p>
<ul class="simple">
<li><p>If you are a handful of project collaborators it probably makes sense to add everybody as collaborators.</p></li>
<li><p>But one does not have to be a <em>collaborator</em> to contribute (anybody can send contributions to public projects).</p></li>
<li><p>External contributors don’t have to be added.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="organizational-permissions">
<h4>Organizational permissions<a class="headerlink" href="#organizational-permissions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Organizations have <strong>owners</strong> and <strong>members</strong>.</p></li>
<li><p>Owners can add additional members and delete repositories.</p></li>
<li><p>Members can also be organized into teams.</p></li>
<li><p>We recommend to write-protect the default branch and protect it against force-pushes and accidental deletions.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="github-or-gitlab">
<h4>GitHub or GitLab?<a class="headerlink" href="#github-or-gitlab" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>GitHub: probably better integrations (with services like Zenodo), probably more visibility (more users).</p></li>
<li><p>GitLab: more features, you can also self-host, more advanced continuous integration.</p></li>
<li><p>Your own university’s GitLab: most control, local support, but limited visibility and you might lose access when you move on.</p></li>
<li><p><a class="reference external" href="https://coderefinery.org/repository/">Nordic GitLab</a>: easier collaboration across organizations and national borders, visibility within Nordics.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="direct-commits-or-pull-requests">
<h4>Direct commits or pull requests?<a class="headerlink" href="#direct-commits-or-pull-requests" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>For single-person projects: direct pushes.</p></li>
<li><p>If you have somebody who can help you with code review: use pull requests.</p></li>
<li><p>For projects with 2 or more persons: agree on applying all changes via pull requests
and create a new branch for every change.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="small-vs-large-changes">
<h4>Small vs. large changes<a class="headerlink" href="#small-vs-large-changes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Small changes or agreed upon improvements can be worked on directly.</p></li>
<li><p>For larger changes first open an issue and describe your idea and collect feedback.</p></li>
<li><p>Alternative: if you already have a larger change half-finished but you are unsure whether you are on the right
track, open a <strong>draft pull request</strong>. These are meant to share unfinished drafts and collect suggestions.</p></li>
</ul>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-noppe"></span><section id="getting-access-to-csc-noppe">
<h3>Getting access to CSC Noppe<a class="headerlink" href="#getting-access-to-csc-noppe" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Go to https://noppe.csc.fi/</p></li>
<li><p>Accounts:</p></li>
</ol>
<ul class="simple">
<li><p>If you are from Finnish university and research institute, login with Haka, VIRTU or CSC account. Continue with 3)</p></li>
<li><p>Others do not need to do anything at this point, we will provide a separate username and password during the course, (You will then use “Special Login” for using these accounts)</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>In the Notebooks dashboard click the “Join workspace” button in the upper left corner, and copy-paste there the join code <code class="docutils literal notranslate"><span class="pre">byr14q9xlpph</span></code></p></li>
<li><p>You should now see <code class="docutils literal notranslate"><span class="pre">Enhancing</span> <span class="pre">data</span> <span class="pre">support</span></code> as Jupyter Notebook appear in the list.</p></li>
</ol>
<p>If you see it, you are ready for the workshop!</p>
</section>
<span id="document-jupyter"></span><section id="jupyter-notebooks">
<h3>Jupyter Notebooks<a class="headerlink" href="#jupyter-notebooks" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Know what it is</p></li>
<li><p>Create a new notebook and save it</p></li>
<li><p>Open existing notebooks from the web</p></li>
<li><p>Be able to create text/markdown cells, code cells, images, and equations</p></li>
<li><p>Know when to use a Jupyter Notebook for a Python project and when perhaps not to</p></li>
</ul>
</div>
<p>[this lesson is adapted from <a class="reference external" href="https://coderefinery.github.io/jupyter/motivation/">https://coderefinery.github.io/jupyter/motivation/</a>]</p>
<p>Jupyter is one of multiple options for executable notebooks (other RMarkdown, Pluto).
Often used in teaching.</p>
<section id="motivation-for-jupyter-notebooks">
<h4>Motivation for Jupyter Notebooks<a class="headerlink" href="#motivation-for-jupyter-notebooks" title="Link to this heading"></a></h4>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/medicean-stars.png"><img alt="Galileo's drawings of Jupiter and its Medicean Stars from Sidereus Nuncius" src="_images/medicean-stars.png" style="width: 50%;" />
</a>
<figcaption>
<p><span class="caption-text"><strong>One of the first notebooks: Galileo’s drawings of Jupiter and its Medicean
Stars</strong> from Sidereus Nuncius. Image courtesy of the History of Science
Collections, University of Oklahoma Libraries (CC-BY).</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Code, text, equations, figures, plots</strong>, etc. are interleaved, creating a <em>computational narrative</em>.</p></li>
<li><p><a class="reference external" href="https://www.nature.com/articles/d41586-018-07196-1"><em>“an environment in which users execute code, see what happens, modify and
repeat in a kind of iterative conversation between researcher and
data”</em></a></p></li>
<li><p>The name “Jupyter” derives from Julia+Python+R, but today Jupyter kernels
exist for <a class="reference external" href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">dozens of programming languages</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/jupyter/jupyter/wiki">Gallery of interesting Jupyter Notebooks</a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="rubric" id="understanding-the-jupyter-architecture">Understanding the Jupyter architecture</p>
<p>It is important to understand how Jupyter Notebooks work behind the scenes. Here’s a simple way to think about it:</p>
<p><img alt="Jupyter architecture diagram" src="https://docs.jupyter.org/en/latest/_images/notebook_components.png" /></p>
<p>Together, this setup allows you to write code, execute it, and see results — all in one place!</p>
<p>This is a simplified view — in practice, the Jupyter architecture can be extended with multiple users, remote kernels, and more. See the full architecture documentation at <a class="reference internal" href="#docs.jupyter.org"><span class="xref myst">https://docs.jupyter.org/en/latest/projects/architecture/content-architecture.html</span></a></p>
<p>Jupyter Notebook: One notebook file in your browser
Jupyter Lab: Workspace for notebooks, terminal other files, extensions etc</p>
<p>Both of above you can install and run on your own computer or in the cloud.</p>
<p>Jupyter Hub: Multi user self-hosting option (your institution might host their own)</p>
</div>
</section>
<section id="what-is-noppe">
<h4>What is <a class="reference external" href="https://research.csc.fi/service/noppe/">Noppe</a>?<a class="headerlink" href="#what-is-noppe" title="Link to this heading"></a></h4>
<p>Noppe (previously CSC Notebooks) offers web applications (RStudio and Jupyter) for self-learning, hosting courses and collaboration. The applications are accessed through a web browser and run in CSC cloud.</p>
</section>
<section id="use-cases-for-notebooks">
<h4>Use cases for notebooks<a class="headerlink" href="#use-cases-for-notebooks" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Really good for step-by-step recipes (e.g. read data, filter data, do some statistics, plot the results)</p></li>
<li><p>Experimenting with new ideas, testing new libraries/databases</p></li>
<li><p>As an <em>interactive</em> development environment for code, data analysis, and visualization</p></li>
<li><p>Keeping track of interactive sessions, like a <strong>digital lab notebook</strong></p></li>
<li><p><strong>Supplementary information with published articles</strong></p></li>
</ul>
</section>
<section id="good-practices">
<h4>Good practices<a class="headerlink" href="#good-practices" title="Link to this heading"></a></h4>
<p><strong>Run all cells</strong> or even <strong>Restart Kernel and Run All Cells</strong>
before sharing/saving to verify that the results you see on your
computer were not due to cells being run out of order.</p>
<p>This can be demonstrated with the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">arithmetic_mean</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</pre></div>
</div>
<p>We can first split this code into two cells and then re-define <code class="docutils literal notranslate"><span class="pre">numbers</span></code>
further down in the notebook. If we run the cells out of order, the result will
be different.</p>
</section>
<section id="limitations-of-notebooks">
<h4>Limitations of notebooks<a class="headerlink" href="#limitations-of-notebooks" title="Link to this heading"></a></h4>
<p>(Read more at <a class="reference external" href="https://scicomp.aalto.fi/scicomp/jupyter-pitfalls/">Pitfalls of Jupyter Notebooks</a>.)</p>
<ul class="simple">
<li><p>You can run cells in any order, which may lead to <strong>confusing or incorrect results</strong> if you’re not careful.</p></li>
<li><p><strong>Variables stay in memory</strong> even if you delete the cell that created them — this can lead to surprises!</p></li>
<li><p>Hard to know what’s been run and in what order unless you <strong>restart the kernel and run all cells</strong>.</p></li>
<li><p>Notebooks don’t by default work well with <strong>version control (like Git)</strong> because output cells can make the files messy.</p></li>
<li><p>Mixing too much <strong>text, code, and results</strong> can make notebooks hard to read or maintain if they get too long.</p></li>
<li><p>Notebooks aren’t ideal for building reusable <strong>scripts, libraries, or production code</strong> — they are more for exploration.</p></li>
</ul>
<p>If you’re using notebooks for more than quick experiments or interactive work, it’s good to be aware of these limitations — and consider moving parts of your workflow to regular <code class="docutils literal notranslate"><span class="pre">.py</span></code> files when needed.</p>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>Jupyter Notebooks combine code, text, plots, and results in one document: ideal for interactive data exploration.</p></li>
<li><p>Use <strong>markdown cells</strong> for documentation and <strong>code cells</strong> for execution.</p></li>
<li><p>Always <strong>restart and run all cells</strong> before sharing or saving to avoid confusion from out-of-order execution.</p></li>
<li><p>Notebooks are great for exploration, teaching, and prototyping, but not the best tool for large software projects or version-controlled pipelines.</p></li>
<li><p>Watch out for <strong>common pitfalls</strong> like hidden variables, confusing outputs, and version control issues.</p></li>
</ul>
</div>
</section>
</section>
<span id="document-jupyter-exercise"></span><section id="jupyter-exercises">
<h3>Jupyter Exercises<a class="headerlink" href="#jupyter-exercises" title="Link to this heading"></a></h3>
<section id="our-first-notebook">
<h4>Our first notebook<a class="headerlink" href="#our-first-notebook" title="Link to this heading"></a></h4>
<div class="admonition-exercise-jupyter-1-create-a-notebook-15-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise Jupyter-1: Create a notebook (15 min)</p>
<ul>
<li><p>Open a new notebook</p></li>
<li><p>Rename the notebook</p></li>
<li><p>Create a <strong>markdown cell</strong> with a section title, a short text, an image, and an equation</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Title of my notebook</span>

Some text.

![<span class="nt">Photo of Galilei&#39;s manuscript</span>](<span class="na">https://upload.wikimedia.org/wikipedia/commons/b/b3/Galileo_Galilei_%281564_-_1642%29_-_Serenissimo_Principe_-_manuscript_with_observations_of_Jupiter_and_four_of_its_moons%2C_1610.png</span>)

$E = mc^2$
</pre></div>
</div>
</li>
<li><p>Most important shortcut: <strong>Shift + Enter</strong>, to run current cell and create a new one below.</p></li>
<li><p>Create a <strong>code cell</strong> where you define the <code class="docutils literal notranslate"><span class="pre">arithmetic_mean</span></code> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">arithmetic_mean</span><span class="p">(</span><span class="n">sequence</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">element</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sequence</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span> <span class="o">/</span> <span class="n">n</span>
</pre></div>
</div>
</li>
<li><p>In a different cell, call the function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arithmetic_mean</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>In a new cell, let us try to plot a layered histogram. <strong>Note</strong>: as a beginner you might be struggling to understand what is going on at this stage compared to the previous simple examples. This is to show you that a good starting point is to copy pasting code from tutorials to see if you can re-run them locally, and then proceed to understand the code and try some changes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># this example is from https://altair-viz.github.io/gallery/layered_histogram.html</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Generating Data</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Trial A&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="s1">&#39;Trial B&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="s1">&#39;Trial C&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="p">})</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">transform_fold</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;Trial A&#39;</span><span class="p">,</span> <span class="s1">&#39;Trial B&#39;</span><span class="p">,</span> <span class="s1">&#39;Trial C&#39;</span><span class="p">],</span>
    <span class="n">as_</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Experiment&#39;</span><span class="p">,</span> <span class="s1">&#39;Measurement&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">(</span>
    <span class="n">opacity</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
    <span class="n">binSpacing</span><span class="o">=</span><span class="mi">0</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Measurement:Q&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="n">maxbins</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;count()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;Experiment:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Run all cells.</p></li>
<li><p>Save the notebook.</p></li>
<li><p>Observe that a “#” character has a different meaning in a code cell (code
comment) than in a markdown cell (heading).</p></li>
<li><p>Your notebook should look like <a class="reference external" href="https://nbviewer.org/github/coderefinery/data-visualization-python/blob/main/notebooks/first-notebook.ipynb">this one</a>.</p></li>
</ul>
</div>
</section>
<section id="plotting-with-vega-altair">
<h4>Plotting with <a class="reference external" href="https://altair-viz.github.io/">Vega-Altair</a><a class="headerlink" href="#plotting-with-vega-altair" title="Link to this heading"></a></h4>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Be able to create simple plots with Vega-Altair and tweak them</p></li>
<li><p>Know how to look for help</p></li>
<li><p>Know how to tweak example plots from a gallery for your own purpose</p></li>
<li><p>We will build up
<a class="reference external" href="https://nbviewer.org/github/coderefinery/data-visualization-python/blob/main/notebooks/plotting.ipynb">this notebook</a>
(spoiler alert!)</p></li>
</ul>
</div>
<p>We will experiment with some example weather data obtained from FMI (CC BY 4.0).  The data is in CSV format (comma-separated
values) and contains daily and monthly weather data for two cities in Finland:
Espoo and Kajaani.</p>
<p>We will use the Pandas library to read the data into a dataframe.</p>
<p>Pandas can read from and write to a large set of formats
(<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/io.html">overview of input/output functions and formats</a>).
We will load a CSV file directly from the web. Instead of using a web URL we
could use a local file name instead.</p>
<p>Pandas dataframes are a great data structure for <strong>tabular data</strong>.</p>
<section id="reading-data-into-a-dataframe">
<h5>Reading data into a dataframe<a class="headerlink" href="#reading-data-into-a-dataframe" title="Link to this heading"></a></h5>
<p>We can try this together in a notebook:
Using Pandas we can <strong>merge, join, concatenate, and compare</strong>
dataframes, see <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/merging.html">https://pandas.pydata.org/pandas-docs/stable/user_guide/merging.html</a>.</p>
<p>Let us try to <strong>concatenate</strong> two dataframes: one for Tromsø weather data (we
will now load monthly values) and one for Oslo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">url_prefix</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/coderefinery/data-visualization-python/main/data/&quot;</span>

<span class="n">data_tromso</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="s2">&quot;tromso-monthly.csv&quot;</span><span class="p">)</span>
<span class="n">data_oslo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="s2">&quot;oslo-monthly.csv&quot;</span><span class="p">)</span>

<span class="hll"><span class="n">data_monthly</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_tromso</span><span class="p">,</span> <span class="n">data_oslo</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span>
<span class="c1"># let us print the combined result</span>
<span class="n">data_monthly</span>
</pre></div>
</div>
<section id="data-preprocessing">
<h6>Data preprocessing<a class="headerlink" href="#data-preprocessing" title="Link to this heading"></a></h6>
<p>There is a problem which we may not see yet: Dates
are not in a standard date format (YYYY-MM-DD). We can fix this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># replace mm.yyyy to date format</span>
<span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]),</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%m.%Y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>With Pandas it is possible to do a lot more (adjusting missing values, fixing
inconsistencies, changing format).</p>
</section>
<section id="what-is-in-a-dataframe">
<h6>What is in a dataframe?<a class="headerlink" href="#what-is-in-a-dataframe" title="Link to this heading"></a></h6>
<p>The name pandas is derived from the term “<strong>pan</strong>el <strong>da</strong>ta”.</p>
<figure class="align-default" id="id2">
<img alt="A pandas dataframe object is composed of rows and columns." src="img/pandas/dataframe.svg" />
<figcaption>
<p><span class="caption-text">A pandas dataframe object is composed of rows and columns.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Let us explore these together in the notebook (run these in separate cells):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># print an overview of the dataset</span>
<span class="n">data_monthly</span>

<span class="c1"># print the first 5 rows</span>
<span class="n">data_monthly</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="c1"># print the last 5 rows</span>
<span class="n">data_monthly</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>

<span class="c1"># print all column titles - no parentheses here</span>
<span class="n">data_monthly</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># show which data types were detected</span>
<span class="n">data_monthly</span><span class="o">.</span><span class="n">dtypes</span>

<span class="c1"># print table dimensions - no parentheses here</span>
<span class="n">data_monthly</span><span class="o">.</span><span class="n">shape</span>

<span class="c1"># print one column</span>
<span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;max temperature&quot;</span><span class="p">]</span>

<span class="c1"># get some statistics</span>
<span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;max temperature&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="c1"># what was the maximum temperature?</span>
<span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;max temperature&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

<span class="c1"># print all rows where max temperature was above 20</span>
<span class="n">data_monthly</span><span class="p">[</span><span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;max temperature&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">20.0</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="why-are-we-starting-with-vega-altair">
<h6>Why are we starting with <a class="reference external" href="https://altair-viz.github.io/">Vega-Altair</a>?<a class="headerlink" href="#why-are-we-starting-with-vega-altair" title="Link to this heading"></a></h6>
<ul class="simple">
<li><p>Concise and powerful</p></li>
<li><p>“Simple, friendly and consistent API” allows us to focus on the data
visualization part and get started without too much Python knowledge</p></li>
<li><p>The way it <strong>combines visual channels with data columns</strong> can feel intuitive</p></li>
<li><p>Interfaces very nicely with <a class="reference external" href="https://pandas.pydata.org/">Pandas</a></p></li>
<li><p>Easy to change figures</p></li>
<li><p>Good documentation</p></li>
<li><p>Open source</p></li>
<li><p>Makes it easy to save figures in a number of formats (svg, png, html)</p></li>
<li><p>Easy to save interactive visualizations to be used in websites</p></li>
</ul>
</section>
<section id="id1">
<h6>Reading data into a dataframe<a class="headerlink" href="#id1" title="Link to this heading"></a></h6>
<p>From the previous section, let’s load the data in our jupyter notebook and fix the dates.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">url_prefix</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/coderefinery/data-visualization-python/main/data/&quot;</span>

<span class="n">data_tromso</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="s2">&quot;tromso-monthly.csv&quot;</span><span class="p">)</span>
<span class="n">data_oslo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="s2">&quot;oslo-monthly.csv&quot;</span><span class="p">)</span>

<span class="hll"><span class="n">data_monthly</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_tromso</span><span class="p">,</span> <span class="n">data_oslo</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span>
<span class="c1"># replace mm.yyyy to date format</span>
<span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]),</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%m.%Y&quot;</span><span class="p">)</span>

<span class="c1"># let us print the combined result</span>
<span class="n">data_monthly</span>
</pre></div>
</div>
</section>
<section id="plotting-the-data">
<h6>Plotting the data<a class="headerlink" href="#plotting-the-data" title="Link to this heading"></a></h6>
<p>Now let’s plot the data. We will start with a plot that is not optimal and
then we will explore and improve a bit as we go:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;precipitation&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id3">
<img alt="Monthly precipitation for the cities Oslo and Tromsø over the course of a year." src="_images/precipitation-on-top.svg" />
<figcaption>
<p><span class="caption-text">Monthly precipitation for the cities Oslo and Tromsø over the course of a year.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition-let-us-pause-and-explain-the-code discussion important admonition" id="discussion-0">
<p class="admonition-title">Let us pause and explain the code</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">alt</span></code> is a short-hand for <code class="docutils literal notranslate"><span class="pre">altair</span></code> which we imported on top of the notebook</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Chart()</span></code> is a function defined inside <code class="docutils literal notranslate"><span class="pre">altair</span></code> which takes the data as argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_bar()</span></code> is a function that produces bar charts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">encode()</span></code> is a function which encodes data columns to <strong>visual channels</strong></p></li>
</ul>
<p>Observe how we connect (encode) <strong>visual channels</strong> to data columns:</p>
<ul class="simple">
<li><p>x-coordinate with “date”</p></li>
<li><p>y-coordinate with “precipitation”</p></li>
<li><p>color with “name” (name of weather station; city)</p></li>
</ul>
</div>
<p>We can improve the plot by giving Vega-Altair a bit more information that the
x-axis is <strong>temporal</strong> (T) and that we would like to see the year and
month (yearmonth):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="hll">    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;yearmonth(date):T&quot;</span><span class="p">,</span>
</span>    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;precipitation&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Apart from T (temporal), there are other
<a class="reference external" href="https://altair-viz.github.io/user_guide/encodings/index.html#encoding-data-types">encoding data types</a>:</p>
<ul class="simple">
<li><p>Q (quantitative)</p></li>
<li><p>O (ordinal)</p></li>
<li><p>N (nominal)</p></li>
<li><p>T (temporal)</p></li>
<li><p>G (geojson)</p></li>
</ul>
<figure class="align-default" id="id4">
<img alt="Monthly precipitation for the cities Oslo and Tromsø over the course of a year." src="_images/precipitation-on-top-yearmonth.svg" />
<figcaption>
<p><span class="caption-text">Monthly precipitation for the cities Oslo and Tromsø over the course of a year.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Let us improve the plot with another one-line change:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;yearmonth(date):T&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;precipitation&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="hll">    <span class="n">column</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id5">
<img alt="Monthly precipitation for the cities Oslo and Tromsø over the course of a year with with both cities plotted side by side." src="_images/precipitation-side.svg" />
<figcaption>
<p><span class="caption-text">Monthly precipitation for the cities Oslo and Tromsø over the course of a year with with both cities plotted side by side.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>With another one-line change we can make the bar chart stacked:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;yearmonth(date):T&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;precipitation&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="hll">    <span class="n">xOffset</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id6">
<img alt="Monthly precipitation for the cities Oslo and Tromsø over the course of a year with with both cities plotted side by side." src="_images/precipitation-stacked-x.svg" />
<figcaption>
<p><span class="caption-text">Monthly precipitation for the cities Oslo and Tromsø over the course of a year
plotted as stacked bar chart.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>This is not publication-quality yet but a really good start!</p>
<p>Let us try one more example where we can nicely see how Vega-Altair
is able to map visual channels to data columns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data_monthly</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;yearmonth(date):T&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;max temperature&quot;</span><span class="p">,</span>
    <span class="n">y2</span><span class="o">=</span><span class="s2">&quot;min temperature&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id7">
<img alt="Monthly temperature ranges for two cities in Norway." src="_images/temperature-ranges-combined.svg" />
<figcaption>
<p><span class="caption-text">Monthly temperature ranges for two cities in Norway.</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition-what-other-marks-and-other-visual-channels-exist discussion important admonition" id="discussion-1">
<p class="admonition-title">What other marks and other visual channels exist?</p>
<ul class="simple">
<li><p><a class="reference external" href="https://altair-viz.github.io/user_guide/marks/index.html">Overview of available marks</a></p></li>
<li><p><a class="reference external" href="https://altair-viz.github.io/user_guide/encodings/channels.html">Overview of available visual channels</a></p></li>
<li><p><a class="reference external" href="https://altair-viz.github.io/gallery/index.html">Gallery of examples</a></p></li>
</ul>
</div>
</section>
</section>
<section id="themes">
<h5>Themes<a class="headerlink" href="#themes" title="Link to this heading"></a></h5>
<p>In <a class="reference external" href="https://altair-viz.github.io/">Vega-Altair</a> you can change the theme and
select from a long <a class="reference external" href="https://github.com/vega/vega-themes">list of themes</a>.  On
top of your notebook try to add:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;dark&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then re-run all cells. Later you can try some other themes such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fivethirtyeight</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latimes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">urbaninstitute</span></code></p></li>
</ul>
<p>You can even define your own themes!</p>
<div class="admonition-discover-the-vega-altair-gallery-of-examples exercise important admonition" id="exercise-1">
<p class="admonition-title">Discover the Vega-Altair gallery of examples</p>
<p>Try to rerun some examples from the <a class="reference external" href="https://altair-viz.github.io/gallery/index.html">Gallery of examples</a>. Which one did you choose? Were you able to reproduce the figures? Did you try `alt.themes.enable(‘dark’)?</p>
<p><strong>Note: you will need to first run in a cell the command <code class="docutils literal notranslate"><span class="pre">!pip</span> <span class="pre">install</span> <span class="pre">vega_datasets</span></code> to make the demo data available.</strong></p>
</div>
<hr class="docutils" />
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>Browse a number of example galleries to help you choose the library
that fits best your work/style.</p></li>
<li><p>Minimize manual post-processing and try to script all steps.</p></li>
<li><p>CSV (comma-separated values) files are often a good format to store the data
that we wish to plot.</p></li>
<li><p>Read the data into a Pandas dataframe and then plot it with Vega-Altair
where you connect data columns to
<a class="reference external" href="https://altair-viz.github.io/user_guide/encodings/channels.html">visual channels</a>.</p></li>
</ul>
</div>
<p>Additional:</p>
</section>
<section id="customizing-plots">
<h5>Customizing plots<a class="headerlink" href="#customizing-plots" title="Link to this heading"></a></h5>
<div class="admonition-objectives objectives admonition" id="objectives-1">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Know where to look to find out how to tweak plots</p></li>
<li><p>Start with a relatively simple example and build up more and more features</p></li>
<li><p>See the process of going from a raw plot towards a publication-ready plot</p></li>
<li><p>We will build up
<a class="reference external" href="https://nbviewer.org/github/coderefinery/data-visualization-python/blob/main/notebooks/customizing.ipynb">this notebook</a>
(spoiler alert!)</p></li>
</ul>
</div>
</section>
<section id="loading-and-plotting-a-dataset">
<h5>Loading and plotting a dataset<a class="headerlink" href="#loading-and-plotting-a-dataset" title="Link to this heading"></a></h5>
<p>In this lesson will work with one of the
<a class="reference external" href="https://www.gapminder.org/tools/">Gapminder</a> datasets.</p>
<p>Let us together read and plot the data and then we explain what is happening
and we will improve the figure together.  First we read and inspect the data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import necessary libraries</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># read the data</span>
<span class="n">url_prefix</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/plotly/datasets/master/&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="s2">&quot;gapminder_with_codes.csv&quot;</span><span class="p">)</span>

<span class="c1"># print overview of the dataset</span>
<span class="n">data</span>
</pre></div>
</div>
<p>With very few lines we can get the first raw plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id8">
<img alt="First raw plot with all countries and all years." src="_images/all-data.svg" />
<figcaption>
<p><span class="caption-text">First raw plot with all countries and all years.</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Observe how we connect (encode) <strong>visual channels</strong> to data columns:</p>
<ul class="simple">
<li><p>x-coordinate with “gdpPercap”</p></li>
<li><p>y-coordinate with “lifeExp”</p></li>
</ul>
<p>The following code would have the same effect but the above version might be
easier to read:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-let-us-pause-and-explain-the-code discussion important admonition" id="discussion-2">
<p class="admonition-title">Let us pause and explain the code</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">alt</span></code> is a short-hand for <code class="docutils literal notranslate"><span class="pre">altair</span></code> which we imported on top of the notebook</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Chart()</span></code> is a function defined inside <code class="docutils literal notranslate"><span class="pre">altair</span></code> which takes the data as argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_point()</span></code> is a function that produces scatter plots</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">encode()</span></code> is a function which encodes data columns to visual channels</p></li>
</ul>
</div>
</section>
<section id="filtering-data">
<h5>Filtering data<a class="headerlink" href="#filtering-data" title="Link to this heading"></a></h5>
<p>In <a class="reference external" href="https://altair-viz.github.io">Vega-Altair</a> we can chain functions.  Let us
add two more functions: The first will apply a filter, the second will make the
plot interactive:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span>
<span class="hll"><span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</span></pre></div>
</div>
<figure class="align-default" id="id9">
<img alt="Now we only keep the year 2007." src="_images/only-2007.svg" />
<figcaption>
<p><span class="caption-text">Now we only keep the year 2007.</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Alternatively, we could have filtered the data before plotting using pandas.</p>
</section>
<section id="using-color-as-additional-channel">
<h5>Using color as additional channel<a class="headerlink" href="#using-color-as-additional-channel" title="Link to this heading"></a></h5>
<p>A very neat feature of <a class="reference external" href="https://altair-viz.github.io">Vega-Altair</a> is that it
is easy to add and modify visual channels. Let us try to add one more so that
we do something with the “continent” data column:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span>
<span class="hll">    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
</span><span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id10">
<img alt="Using different colors for different continents." src="_images/color.svg" />
<figcaption>
<p><span class="caption-text">Using different colors for different continents.</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="changing-to-log-scale">
<h5>Changing to log scale<a class="headerlink" href="#changing-to-log-scale" title="Link to this heading"></a></h5>
<p>For this data set we will get a better insight when switching the x-axis from
linear to log scale:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="hll">    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">),</span>
</span>    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id11">
<img alt="Changing the x axis to log scale." src="_images/log-scale.svg" />
<figcaption>
<p><span class="caption-text">Changing the x axis to log scale.</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="improving-axis-titles">
<h5>Improving axis titles<a class="headerlink" href="#improving-axis-titles" title="Link to this heading"></a></h5>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="hll">    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">),</span>
</span>    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id12">
<img alt="Improving the axis titles." src="_images/axis-titles.svg" />
<figcaption>
<p><span class="caption-text">Improving the axis titles.</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="faceted-charts">
<h5>Faceted charts<a class="headerlink" href="#faceted-charts" title="Link to this heading"></a></h5>
<p>To see what faceted charts are and how easy it is to do this, add the following
line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
<span class="hll">    <span class="n">row</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
</span><span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<p>Guess what happens when you change <code class="docutils literal notranslate"><span class="pre">row=&quot;continent&quot;</span></code> to <code class="docutils literal notranslate"><span class="pre">column=&quot;continent&quot;</span></code>?</p>
</section>
<section id="changing-from-points-to-circles">
<h5>Changing from points to circles<a class="headerlink" href="#changing-from-points-to-circles" title="Link to this heading"></a></h5>
<p>Let us add one more visual channel, mapping size of the circle to the
population size of a country:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
</span>    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
<span class="hll">    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;pop&quot;</span><span class="p">,</span>
</span><span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id13">
<img alt="Circle sizes are proportional to population sizes." src="_images/population-size.svg" />
<figcaption>
<p><span class="caption-text">Circle sizes are proportional to population sizes.</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="title-and-axis-values">
<h5>Title and axis values<a class="headerlink" href="#title-and-axis-values" title="Link to this heading"></a></h5>
<p>In the next step we modify a number of things:</p>
<ul class="simple">
<li><p>We go back to the version where all circles have the same size</p></li>
<li><p>Add figure title</p></li>
<li><p>Modify axis domains to “zoom into” the interesting part of the plot</p></li>
<li><p>Set axis values</p></li>
<li><p>Change from <code class="docutils literal notranslate"><span class="pre">mark_point()</span></code> to <code class="docutils literal notranslate"><span class="pre">mark_circle()</span></code></p></li>
<li><p>Invoke <code class="docutils literal notranslate"><span class="pre">interactive()</span></code> in a separate step</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Title</span><span class="p">(</span><span class="s2">&quot;Life expectancy as function of the gross domestic product&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span>
    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">85</span><span class="p">)),</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;continent&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">chart</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id14">
<img alt="Plot after adding a figure title." src="img/customizing/with-title.svg" />
<figcaption>
<p><span class="caption-text">The plot is starting to look better!</span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="colors">
<h5>Colors<a class="headerlink" href="#colors" title="Link to this heading"></a></h5>
<p>In the next step we change the color scheme (<a class="reference external" href="https://vega.github.io/vega/docs/schemes/">list of all
schemes</a>), make the circles larger
and slightly transparent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Title</span><span class="p">(</span><span class="s2">&quot;Life expectancy as function of the gross domestic product&quot;</span><span class="p">),</span>
    <span class="p">)</span>
<span class="hll">    <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
</span>    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">85</span><span class="p">)),</span>
<span class="hll">        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s2">&quot;dark2&quot;</span><span class="p">),</span>
</span>    <span class="p">)</span>
    <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">chart</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id15">
<img alt="The plot after adjusting circles and colors." src="img/customizing/dark2.svg" />
<figcaption>
<p><span class="caption-text">The plot after adjusting circles and colors.</span><a class="headerlink" href="#id15" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We can also define own colors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="n">okabe_ito</span> <span class="o">=</span> <span class="p">[</span>
</span><span class="hll">    <span class="s2">&quot;#0072b2&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#e69f00&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#cc79a7&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#009e73&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#f0e442&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#000000&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#d55e00&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="s2">&quot;#56b4e9&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="p">]</span>
</span>
<span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Title</span><span class="p">(</span><span class="s2">&quot;Life expectancy as function of the gross domestic product&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">85</span><span class="p">)),</span>
<span class="hll">        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="n">okabe_ito</span><span class="p">),</span>
</span>    <span class="p">)</span>
    <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">chart</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id16">
<img alt="Adjusting colors to those recommended by Okabe and Ito." src="img/customizing/okabe-ito.svg" />
<figcaption>
<p><span class="caption-text">Adjusting colors to those recommended by Okabe and Ito.</span><a class="headerlink" href="#id16" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition-why-these-colors discussion important admonition" id="discussion-3">
<p class="admonition-title">Why these colors?</p>
<p>This qualitative color palette is optimized for all color-vision
deficiencies, see <a class="reference external" href="https://clauswilke.com/dataviz/color-pitfalls.html">https://clauswilke.com/dataviz/color-pitfalls.html</a> and
<a class="reference external" href="http://jfly.iam.u-tokyo.ac.jp/color/">Okabe, M., and K. Ito. 2008. “Color Universal Design (CUD):
How to Make Figures and Presentations That Are Friendly to Colorblind People.”</a>.</p>
</div>
</section>
<section id="more-tweaking-towards-a-publication-ready-figure">
<h5>More tweaking towards a publication-ready figure<a class="headerlink" href="#more-tweaking-towards-a-publication-ready-figure" title="Link to this heading"></a></h5>
<p>Let us add a subtitle and adjust sizing and positioning:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Title</span><span class="p">(</span>
            <span class="s2">&quot;Life expectancy as function of the gross domestic product&quot;</span><span class="p">,</span>
<span class="hll">            <span class="n">subtitle</span><span class="o">=</span><span class="p">[</span>
</span><span class="hll">                <span class="s2">&quot;Gross domestic product (GDP) per capita measures the value of everything&quot;</span><span class="p">,</span>
</span><span class="hll">                <span class="s2">&quot;produced in a country during a year, divided by the number of people.&quot;</span><span class="p">,</span>
</span><span class="hll">                <span class="s2">&quot;The unit is in purchasing power parities (PPP dollars), fixed to 2017 prices.&quot;</span><span class="p">,</span>
</span><span class="hll">                <span class="s2">&quot;Data is adjusted for inflation and differences in the cost of living between countries.&quot;</span><span class="p">,</span>
</span><span class="hll">            <span class="p">],</span>
</span>        <span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">85</span><span class="p">)),</span>
        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="n">okabe_ito</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">)</span>
<span class="p">)</span>

<span class="hll"><span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_axis</span><span class="p">(</span><span class="n">labelFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll"><span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll"><span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_title</span><span class="p">(</span>
</span><span class="hll">    <span class="n">fontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span class="hll">    <span class="n">subtitleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span class="hll">    <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;start&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="n">offset</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span class="hll">    <span class="n">subtitleColor</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="p">)</span>
</span><span class="hll">
</span><span class="hll"><span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_legend</span><span class="p">(</span>
</span><span class="hll">    <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span class="hll">    <span class="n">labelFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span class="hll">    <span class="n">padding</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span class="hll"><span class="p">)</span>
</span>
<span class="n">chart</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="More tweaking towards a publication-ready figure." src="img/customizing/with-subtitle.svg" />
</figure>
</section>
<section id="interactive-charts">
<h5>Interactive charts<a class="headerlink" href="#interactive-charts" title="Link to this heading"></a></h5>
<p>With not too many changes we can make the chart interactive and add a slider
for the year (please try this in <a class="reference external" href="https://nbviewer.org/github/coderefinery/data-visualization-python/blob/main/notebooks/customizing.ipynb">this
notebook</a>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="n">year_slider</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1952</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2007</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="n">slider_selection</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_point</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">year_slider</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mi">2007</span><span class="p">)</span>
</span>
<span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Title</span><span class="p">(</span>
            <span class="s2">&quot;How life expectancy and gross domestic product evolved over time&quot;</span><span class="p">,</span>
            <span class="n">subtitle</span><span class="o">=</span><span class="p">[</span>
                <span class="s2">&quot;Gross domestic product (GDP) per capita measures the value of everything&quot;</span><span class="p">,</span>
                <span class="s2">&quot;produced in a country during a year, divided by the number of people.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;The unit is in purchasing power parities (PPP dollars), fixed to 2017 prices.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Data is adjusted for inflation and differences in the cost of living between countries.&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">85</span><span class="p">)),</span>
        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="n">okabe_ito</span><span class="p">),</span>
    <span class="p">)</span>
<span class="hll">    <span class="o">.</span><span class="n">add_params</span><span class="p">(</span><span class="n">slider_selection</span><span class="p">)</span>
</span><span class="hll">    <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">slider_selection</span><span class="p">)</span>
</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_axis</span><span class="p">(</span><span class="n">labelFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_title</span><span class="p">(</span>
    <span class="n">fontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">subtitleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;start&quot;</span><span class="p">,</span>
    <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
    <span class="n">offset</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">subtitleColor</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_legend</span><span class="p">(</span>
    <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">labelFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">padding</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">chart</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="adding-more-annotation">
<h5>Adding more annotation<a class="headerlink" href="#adding-more-annotation" title="Link to this heading"></a></h5>
<p>With few more lines we can add extra annotation that can help to highlight
certain aspects of the plot and to tell a story:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">year_slider</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1952</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2007</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">)</span>
<span class="n">slider_selection</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_point</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">year_slider</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mi">2007</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Title</span><span class="p">(</span>
            <span class="s2">&quot;How life expectancy and gross domestic product evolved over time&quot;</span><span class="p">,</span>
            <span class="n">subtitle</span><span class="o">=</span><span class="p">[</span>
                <span class="s2">&quot;Gross domestic product (GDP) per capita measures the value of everything&quot;</span><span class="p">,</span>
                <span class="s2">&quot;produced in a country during a year, divided by the number of people.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;The unit is in purchasing power parities (PPP dollars), fixed to 2017 prices.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Data is adjusted for inflation and differences in the cost of living between countries.&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;GDP per capita (PPP dollars)&quot;</span><span class="p">),</span>
        <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Life expectancy (years)&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">85</span><span class="p">)),</span>
        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="n">okabe_ito</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">add_params</span><span class="p">(</span><span class="n">slider_selection</span><span class="p">)</span>
    <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">slider_selection</span><span class="p">)</span>
<span class="p">)</span>

<span class="hll"><span class="n">annotation</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="hll">    <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span class="hll">    <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
</span><span class="hll">        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span>
</span><span class="hll">        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span>
</span><span class="hll">        <span class="n">text</span><span class="o">=</span><span class="s2">&quot;country&quot;</span><span class="p">,</span>
</span><span class="hll">        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">),</span>
</span><span class="hll">    <span class="p">)</span>
</span><span class="hll">    <span class="o">.</span><span class="n">transform_filter</span><span class="p">((</span><span class="n">slider_selection</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">country</span> <span class="o">==</span> <span class="s2">&quot;Norway&quot;</span><span class="p">))</span>
</span><span class="hll"><span class="p">)</span>
</span><span class="hll">
</span><span class="hll"><span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="hll">    <span class="n">chart</span>
</span><span class="hll">    <span class="o">+</span> <span class="n">annotation</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
</span><span class="hll">    <span class="o">+</span> <span class="n">annotation</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">xOffset</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="p">)</span>
</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_axis</span><span class="p">(</span><span class="n">labelFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_title</span><span class="p">(</span>
    <span class="n">fontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">subtitleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;start&quot;</span><span class="p">,</span>
    <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
    <span class="n">offset</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">subtitleColor</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">configure_legend</span><span class="p">(</span>
    <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">labelFontSize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">padding</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">chart</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="Chart with extra annotation." src="img/customizing/with-annotation.svg" />
</figure>
</section>
<section id="saving-the-chart-as-web-page">
<h5>Saving the chart as web page<a class="headerlink" href="#saving-the-chart-as-web-page" title="Link to this heading"></a></h5>
<p>You can save the chart as a web site and try to open it in a separate browser
tab and put it on your home page or research group website:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;chart.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-doi-for-repo"></span><section id="making-your-project-citable">
<h3>Making your project citable<a class="headerlink" href="#making-your-project-citable" title="Link to this heading"></a></h3>
<div class="admonition-discussion-is-depositing-your-data-code-on-github-enough discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion: is depositing your data/code on GitHub enough?</p>
<ul class="simple">
<li><p>Consider the aspect of findability 5 or 10 years from now.</p></li>
<li><p>What could go wrong?</p></li>
</ul>
</div>
<p>There are many services where you can share or archive your code and data:
See for instance our
<a class="reference external" href="https://coderefinery.github.io/reproducible-research/03-sharing/#services-for-sharing-and-collaborating-on-research-data">lesson on reproducible research</a>.</p>
<p>In this present lesson we will discuss one of the many options to get a <strong>digital object identifier (DOI)</strong>
for your dataset or code:
<a class="reference external" href="https://zenodo.org/">Zenodo</a>, A general-purpose open access repository
created by <a class="reference external" href="https://www.openaire.eu/">OpenAIRE</a> and CERN.
<a class="reference external" href="https://zenodo.org/">Zenodo</a> has nice <strong>integration with GitHub</strong>,
and allows researchers to upload files up to 50 GB.</p>
<div class="admonition-we-will-exercise-in-the-zenodo-sandbox discussion important admonition" id="discussion-1">
<p class="admonition-title">We will exercise in the Zenodo sandbox</p>
<p>We will practice on <a class="reference external" href="https://sandbox.zenodo.org/">https://sandbox.zenodo.org/</a>
and not on the “real” <a class="reference external" href="https://zenodo.org/">https://zenodo.org/</a>
to make sure we do not create “real” DOIs which we cannot remove.</p>
<p>The sandbox service is useful to calibrate your setup until you are happy with the result
and then you can go for the real service. Once a dataset is uploaded to the “real” service,
it cannot be easily removed or modified again (and this is good, otherwise DOIs would not make much sense).</p>
</div>
<hr class="docutils" />
<section id="step-1-prepare-an-example-repository">
<h4>Step 1: Prepare an example repository<a class="headerlink" href="#step-1-prepare-an-example-repository" title="Link to this heading"></a></h4>
<p>Through web:</p>
<ul class="simple">
<li><p>Create a new repository on GitHub</p></li>
<li><p>Upload some example data into it</p></li>
</ul>
<p>Or using GitHub Desktop:</p>
<ul class="simple">
<li><p>Create a new repository</p></li>
<li><p>Commit some example data</p></li>
<li><p>Publish your example repository to GitHub</p></li>
</ul>
<p>Alternatively we can also practice this with one of the repositories we created
earlier in this lesson.</p>
<p>Here I just created a new one:</p>
<figure class="align-default">
<img alt="_images/example-repo.png" class="with-border" src="_images/example-repo.png" />
</figure>
</section>
<hr class="docutils" />
<section id="step-2-activate-the-repository-on-zenodo-sandbox">
<h4>Step 2: Activate the repository on Zenodo (sandbox)<a class="headerlink" href="#step-2-activate-the-repository-on-zenodo-sandbox" title="Link to this heading"></a></h4>
<div class="admonition-we-will-exercise-in-the-zenodo-sandbox discussion important admonition" id="discussion-2">
<p class="admonition-title">We will exercise in the Zenodo sandbox</p>
<p>We will practice on <a class="reference external" href="https://sandbox.zenodo.org/">https://sandbox.zenodo.org/</a>
and not on the “real” <a class="reference external" href="https://zenodo.org/">https://zenodo.org/</a>
to make sure we do not create “real” DOIs which we cannot remove.</p>
</div>
<ul class="simple">
<li><p>Visit <a class="reference external" href="https://sandbox.zenodo.org/account/settings/github/">https://sandbox.zenodo.org/account/settings/github/</a>:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/zenodo.png" class="with-border" src="_images/zenodo.png" />
</figure>
<ul class="simple">
<li><p>Select the repository you wish to preserve:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/switch.png" class="with-border" src="_images/switch.png" />
</figure>
<ul class="simple">
<li><p>If it is not there, you may need to “Sync now …”:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/sync-now.png" class="with-border" src="_images/sync-now.png" />
</figure>
</section>
<hr class="docutils" />
<section id="step-3-create-a-release-and-get-a-doi">
<h4>Step 3: Create a “release” and get a DOI<a class="headerlink" href="#step-3-create-a-release-and-get-a-doi" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Go back to the webpage of your GitHub repository</p></li>
<li><p>Click on “releases”:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/releases.png" class="with-border" src="_images/releases.png" />
</figure>
<ul class="simple">
<li><p>Fill out the form and click on “Publish release”:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/publish-release.png" class="with-border" src="_images/publish-release.png" />
</figure>
<ul class="simple">
<li><p>Finally reload <a class="reference external" href="https://sandbox.zenodo.org/account/settings/github/">https://sandbox.zenodo.org/account/settings/github/</a></p></li>
<li><p>It can take few moments for the project to be deposited</p></li>
<li><p>After a while it turns to this:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/zenodo-published.png" class="with-border" src="_images/zenodo-published.png" />
</figure>
</section>
<hr class="docutils" />
<section id="step-4-add-a-doi-badge-to-your-repository">
<h4>Step 4: Add a DOI badge to your repository<a class="headerlink" href="#step-4-add-a-doi-badge-to-your-repository" title="Link to this heading"></a></h4>
<p>This is bonus but for visitors of your GiHub repository it can be nice to find a badge
in your README that informs them about and links to the preserved dataset/code on Zenodo.</p>
<ul class="simple">
<li><p>On Zenodo, click on the badge (last figure) which opens up:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/zenodo-badge.png" class="with-border" src="_images/zenodo-badge.png" />
</figure>
<ul class="simple">
<li><p>Try to add such a badge to your README for the exercise repository:</p></li>
</ul>
<figure class="align-default">
<img alt="_images/github-badge.png" class="with-border" src="_images/github-badge.png" />
</figure>
</section>
</section>
<span id="document-websites"></span><section id="hosting-websites-homepages-on-github-pages">
<h3>Hosting websites/homepages on GitHub Pages<a class="headerlink" href="#hosting-websites-homepages-on-github-pages" title="Link to this heading"></a></h3>
<p>You can host your personal homepage or group webpage
or project website on GitHub using
<a class="reference external" href="https://pages.github.com/">GitHub Pages</a>.</p>
<p><a class="reference external" href="https://about.gitlab.com/features/pages/">GitLab</a> and
<a class="reference external" href="https://confluence.atlassian.com/bitbucket/publishing-a-website-on-bitbucket-cloud-221449776.html">Bitbucket</a>
also offer a very similar solution.</p>
<p>Unless you need user authentication or a sophisticated database behind your website,
<a class="reference external" href="https://pages.github.com/">GitHub Pages</a> can be a very nice alternative
to running your own web servers.</p>
<p>This is how all
<a class="reference external" href="https://coderefinery.org">https://coderefinery.org</a>
material is hosted.</p>
<section id="exercise">
<h4>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Deploy own website reusing a template</p></li>
<li><p>Make a change to the website after it has been deployed for the first time</p></li>
<li><p>Verify that the change shows up on the website a minute or two later</p></li>
</ul>
<p>The documentation for GitHub Pages is very good so no need for us to duplicate
screenshots: <a class="reference external" href="https://pages.github.com/">https://pages.github.com/</a></p>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>You can use HTML directly or another static site generator if you prefer
to not use the default <a class="reference external" href="https://jekyllrb.com/">Jekyll</a>.</p></li>
<li><p>It is no problem to use a custom domain instead of <code class="docutils literal notranslate"><span class="pre">*.github.io</span></code>.</p></li>
</ul>
</div>
</section>
</section>
<span id="document-sharing-notebooks"></span><section id="sharing-plots-and-notebooks">
<h3>Sharing plots and notebooks<a class="headerlink" href="#sharing-plots-and-notebooks" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Know about good practices for notebooks to make them reusable</p></li>
<li><p>Have a recipe to share a dynamic and reproducible visualization pipeline</p></li>
</ul>
</div>
<p>[this lesson is adapted after <a class="reference external" href="https://coderefinery.github.io/jupyter/sharing/">https://coderefinery.github.io/jupyter/sharing/</a>]</p>
<section id="document-dependencies">
<h4>Document dependencies<a class="headerlink" href="#document-dependencies" title="Link to this heading"></a></h4>
<p>If you import libraries into your notebook, note down their versions.</p>
<p>In Python, it is customary to do this either in a <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file (example):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>jupyterlab
altair == 5.5.0
vega_datasets
pandas == 2.2.3
numpy == 2.1.2
</pre></div>
</div>
<p>… or in an <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file (example):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data-viz</span>
<span class="nt">channels</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python &lt;= 3.12</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jupyterlab</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">altair-all = 5.5.0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vega_datasets</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas = 2.2.3</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy = 2.1.2</span>
</pre></div>
</div>
<p>By the way, this is almost the same <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file that we used to install the local software
environment in the <a class="reference internal" href="index.html#installation"><span class="std std-ref">Software install instructions</span></a> (the latter did not pin versions).</p>
<p>Place either <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> or <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> in the same folder as the notebook(s).</p>
<p>This is not only useful for people who will try to rerun this in future, it is also
understood by some tools (e.g. <a class="reference external" href="https://mybinder.org/">Binder</a>) which we will see later.</p>
</section>
<section id="different-ways-to-share-a-vega-altair-plot">
<h4>Different ways to share a Vega-Altair plot<a class="headerlink" href="#different-ways-to-share-a-vega-altair-plot" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Save it in SVG format (vector graphics, “maximum resolution”)</p></li>
<li><p>Save it in PNG format (raster graphics)</p></li>
<li><p>Share it as notebook (more about it below)</p></li>
<li><p>Save it a web page with <code class="docutils literal notranslate"><span class="pre">chart.save(&quot;chart.html&quot;)</span></code> and share the HTML file</p></li>
<li><p>You can also get a shareable URL to a chart (<a class="reference external" href="https://altair-viz.github.io/user_guide/saving_charts.html#sharable-url">example</a>)</p></li>
<li><p>With <strong>sensitive data</strong>, you need to be careful with sharing (see next section)</p></li>
</ul>
</section>
<section id="vega-altair-and-notebooks-containing-sensitive-data">
<h4>Vega-Altair and notebooks containing sensitive data<a class="headerlink" href="#vega-altair-and-notebooks-containing-sensitive-data" title="Link to this heading"></a></h4>
<p>If you plot <strong>sensitive data</strong> in a notebook with Vega-Altair,
you need to be careful.</p>
<p>The author of Vega-Altair provided a good summary in this <a class="reference external" href="https://github.com/vega/altair/issues/1250#issuecomment-444269060">GitHub comment</a>:</p>
<blockquote>
<div><p>“Standard Altair rendering requires the entire dataset to be accessible to
the viewer’s browser: this is a fundamental design decision in
Vega/Vega-Lite, in which a chart is equivalent to a dataset plus a
specification of how to render it. In general, you should assume that the
entire contents of any dataframe you pass to the alt.Chart() object will be
saved in the notebook and be inspectable by the viewer.”</p>
</div></blockquote>
<blockquote>
<div><p>“One way to get around this would be to render the chart server-side, export
a PNG, and display this png instead of the live chart. Incidentally, in the
Jupyter notebook you can do this by running:”</p>
</div></blockquote>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">alt.renderers.enable('png')</span></code></p>
</div></blockquote>
<blockquote>
<div><p>“This sets up Altair such that charts will be
rendered to PNG within the kernel, and only that PNG rendering will be
embedded in the notebook. Note this requires some extra dependencies,
described <a class="reference external" href="https://altair-viz.github.io/user_guide/saving_charts.html#png-and-svg-format">here</a>.”</p>
</div></blockquote>
<blockquote>
<div><p>“But even here, I wouldn’t call your data “private” (for example, if you
save a scatter plot to PNG, a user can straightforwardly read the data
values off the chart!) So this makes me think you’re actually doing some
sort of aggregation of your data before plotting (e.g. showing a
histogram). If this is the case, I would suggest doing those aggregations
outside of Altair using e.g. pandas, and then passing the aggregated
dataset to the chart. Then you get the normal interactive display of the
Altair chart, and your data is just as private as it would have been in the
equivalent static rendering – the user can only see the aggregated values
you supplied to the chart.”</p>
</div></blockquote>
</section>
<section id="different-ways-to-share-a-notebook">
<h4>Different ways to share a notebook<a class="headerlink" href="#different-ways-to-share-a-notebook" title="Link to this heading"></a></h4>
<p>We need to learn how to share notebooks. At the minimum we need
to share them with our future selves (backup and reproducibility).</p>
<ul class="simple">
<li><p>You can enter a URL, GitHub repo or username, or GIST ID in <a class="reference external" href="https://nbviewer.jupyter.org/">nbviewer</a> and view a rendered Jupyter notebook</p></li>
<li><p>Read the Docs can render Jupyter Notebooks via the <a class="reference external" href="https://nbsphinx.readthedocs.io/">nbsphinx package</a></p></li>
<li><p><a class="reference external" href="https://mybinder.org/">Binder</a> creates live notebooks based on a GitHub repository</p></li>
<li><p><a class="reference external" href="https://notebooks.egi.eu">EGI Notebooks</a> (see also <a class="reference external" href="https://egi-notebooks.readthedocs.io">https://egi-notebooks.readthedocs.io</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/jupyterlab/jupyterlab">JupyterLab</a> supports sharing and collaborative editing of notebooks via Google Drive. Recently
it also added support for <a class="reference external" href="https://github.com/jupyterlab/jupyterlab/pull/10118">Shared editing with collaborative notebook model</a>.</p></li>
<li><p><a class="reference external" href="https://jupyterlite.readthedocs.io/en/latest/">JupyterLite</a> creates a Jupyterlab environment in the browser and can be hosted as a GitHub page.</p></li>
<li><p><a class="reference external" href="https://github.com/aaren/notedown">Notedown</a>, <a class="reference external" href="https://github.com/QuantEcon/sphinxcontrib-jupyter">Jupinx</a> and <a class="reference external" href="https://github.com/hplgit/doconce">DocOnce</a> can take Markdown or Sphinx files and generate Jupyter Notebooks</p></li>
<li><p><a class="reference external" href="https://voila.readthedocs.io/en/stable/">Voilà</a> allows you to convert a Jupyter Notebook into an interactive dashboard</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">nbconvert</span></code> tool can convert a (<code class="docutils literal notranslate"><span class="pre">.ipynb</span></code>) notebook file to:</p>
<ul>
<li><p>python code (<code class="docutils literal notranslate"><span class="pre">.py</span></code> file)</p></li>
<li><p>an HTML file</p></li>
<li><p>a LaTeX file</p></li>
<li><p>a PDF file</p></li>
<li><p>a slide-show in the browser</p></li>
</ul>
</li>
</ul>
<p>The following platforms can be used free of charge but have <strong>paid subscriptions</strong> for
faster access to cloud resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cocalc.com/">CoCalc</a> (formerly SageMathCloud) allows collaborative editing of notebooks in the cloud</p></li>
<li><p><a class="reference external" href="https://colab.research.google.com/">Google Colab</a> lets you work on notebooks in the cloud, and you can <a class="reference external" href="https://colab.research.google.com/notebooks/io.ipynb">read and write to notebook files on Drive</a></p></li>
<li><p><a class="reference external" href="https://notebooks.azure.com/">Microsoft Azure Notebooks</a> also offers free notebooks in the cloud</p></li>
<li><p><a class="reference external" href="https://deepnote.com/">Deepnote</a> allows real-time collaboration</p></li>
</ul>
</section>
<section id="sharing-dynamic-notebooks-using-binder">
<h4>Sharing dynamic notebooks using <a class="reference external" href="https://mybinder.org/">Binder</a><a class="headerlink" href="#sharing-dynamic-notebooks-using-binder" title="Link to this heading"></a></h4>
<div class="admonition-exercise-demo-making-your-notebooks-reproducible-by-anyone-15-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise/demo: Making your notebooks reproducible by anyone (15 min)</p>
<p>Instructor demonstrates this:</p>
<ul>
<li><p>Instructor creates a <a class="reference external" href="https://github.com/">GitHub</a> repository.</p></li>
<li><p>Uploads a notebook file that we created in earlier episodes.</p></li>
<li><p>Then we look at the statically rendered version of the notebook on GitHub and
also <a class="reference external" href="https://nbviewer.jupyter.org/">nbviewer</a>.</p></li>
<li><p>Add a file <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> which contains:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>altair == 5.5.0
vega_datasets
pandas == 2.2.3
numpy == 2.1.2
</pre></div>
</div>
</li>
<li><p>Visit <a class="reference external" href="https://mybinder.org">https://mybinder.org</a>:</p>
<figure class="align-default">
<img alt="Screenshot from mybinder.org user interface" src="_images/binder.jpg" />
</figure>
</li>
<li><p>Check that your notebook repository now has a “launch binder”
badge in your <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file on GitHub.</p></li>
<li><p>Try clicking the button and see how your repository is launched
on Binder (can take a minute or two). Your notebooks can now be
explored and executed in the cloud.</p></li>
<li><p>Enjoy being fully reproducible!</p></li>
</ul>
</div>
<p>Also please see how we share the notebooks from this lesson
in the <span class="xref std std-ref">episode-overview</span>.</p>
</section>
<section id="how-to-get-a-digital-object-identifier-doi">
<h4>How to get a digital object identifier (DOI)<a class="headerlink" href="#how-to-get-a-digital-object-identifier-doi" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://zenodo.org/">Zenodo</a> is a great service to get a
<a class="reference external" href="https://en.wikipedia.org/wiki/Digital_object_identifier">DOI</a> for a notebook
(but <strong>first practice</strong> with the <a class="reference external" href="https://sandbox.zenodo.org/">Zenodo sandbox</a>).</p></li>
<li><p><a class="reference external" href="https://mybinder.org/">Binder</a> can also run notebooks from Zenodo.</p></li>
<li><p>In the supporting information of your paper you can refer to its DOI.</p></li>
</ul>
</section>
</section>
<span id="document-installing-python"></span><section id="software-install-instructions">
<span id="installation"></span><h3>Software install instructions<a class="headerlink" href="#software-install-instructions" title="Link to this heading"></a></h3>
<p>[this page is adapted from <a class="reference external" href="https://aaltoscicomp.github.io/python-for-scicomp/installation/">https://aaltoscicomp.github.io/python-for-scicomp/installation/</a>]</p>
<section id="choosing-an-installation-method">
<h4>Choosing an installation method<a class="headerlink" href="#choosing-an-installation-method" title="Link to this heading"></a></h4>
<p>For this course we will install an isolated environment
with following dependencies:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data-viz</span>
<span class="nt">channels</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python &lt;= 3.12</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jupyterlab</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">altair-all</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vega_datasets</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy</span>
</pre></div>
</div>
<p>If you are used to installing packages in Python and know what to do with the
above <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file, please follow your own preferred installation
method.</p>
<p><strong>If you are new to Python or unsure</strong> how to create isolated environments in
Python from files like the <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> above, please follow the
instructions below.</p>
<div class="admonition-there-are-many-choices-and-we-try-to-suggest-a-good-compromise discussion important admonition" id="discussion-0">
<p class="admonition-title">There are many choices and we try to suggest a good compromise</p>
<p>There are very many ways to install Python and packages with pros and cons and
in addition there are several operating systems with their own quirks. This
can be a huge challenge for beginners to navigate. It can also difficult for
instructors to give recommendations for something which will work everywhere
and which everybody will like.</p>
<p>Below we will recommend <strong>Miniforge</strong> since it is free, open source, general,
available on all operating systems, and provides a good basis for reproducible
environments. However, it does not provide a graphical user interface during
installation. This means that every time we want to start a JupyterLab session,
we will have to go through the command line.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Python, conda, anaconda, miniforge, etc?</p>
<p>Unfortunately there are many options and a lot of jargon.
Here is a crash course:</p>
<ul class="simple">
<li><p><strong>Python</strong> is a programming language very commonly used in
science, it’s the topic of this course.</p></li>
<li><p><strong>Conda</strong> is a package manager: it allows distributing and
installing packages, and is designed for complex scientific
code.</p></li>
<li><p><strong>Mamba</strong> is a re-implementation of Conda to be much faster with
resolving dependencies and installing things.</p></li>
<li><p>An <strong>Environment</strong> is a self-contained collections of packages
which can be installed separately from others.  They are used so
each project can install what it needs without affecting others.</p></li>
<li><p><strong>Anaconda</strong> is a commercial distribution of Python+Conda+many
packages that all work together.  It used to be freely usable for
research, but since ~2023-2024 it’s more limited.  Thus, we don’t
recommend it (even though it has a nice graphical user interface).</p></li>
<li><p><strong>conda-forge</strong> is another channel of distributing packages that
is maintained by the community, and thus can be used by anyone.
(Anaconda’s parent company also hosts conda-forge packages)</p></li>
<li><p><strong>miniforge</strong> is a distribution of conda pre-configured for
conda-forge.  It operates via the command line.</p></li>
<li><p><strong>miniconda</strong> is a distribution of conda pre-configured to use
the Anaconda channels.</p></li>
</ul>
</div>
</section>
<section id="installing-python-via-miniforge">
<h4>Installing Python via Miniforge<a class="headerlink" href="#installing-python-via-miniforge" title="Link to this heading"></a></h4>
<p>Follow the <a class="reference external" href="https://github.com/conda-forge/miniforge">instructions on the miniforge web page</a>.  This installs
the base, and from here other packages can be installed.</p>
</section>
<section id="installing-and-activating-the-software-environment">
<h4>Installing and activating the software environment<a class="headerlink" href="#installing-and-activating-the-software-environment" title="Link to this heading"></a></h4>
<p>First we will start Python in a way that activates conda/mamba.  Then we will
install the software environment from <a class="reference external" href="https://raw.githubusercontent.com/coderefinery/data-visualization-python/main/software/environment.yml">this environment.yml
file</a>.</p>
<p>An <strong>environment</strong> is a self-contained set of extra libraries - different
projects can use different environments to not interfere with each other.  This
environment will have all of the software needed for this particular course.</p>
<p>We will call the environment <code class="docutils literal notranslate"><span class="pre">data-viz</span></code>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-V2luZG93cw==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="0">Windows</button><button aria-controls="panel-0-TGludXggLyBNYWNPUw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TGludXggLyBNYWNPUw==" name="TGludXggLyBNYWNPUw==" role="tab" tabindex="-1">Linux / MacOS</button></div><div aria-labelledby="tab-0-V2luZG93cw==" class="sphinx-tabs-panel group-tab" id="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><p>Use the “Miniforge Prompt” to start Miniforge.  This
will set up everything so that <code class="docutils literal notranslate"><span class="pre">conda</span></code> and <code class="docutils literal notranslate"><span class="pre">mamba</span></code> are
available.
Then type
(without the <code class="docutils literal notranslate"><span class="pre">$</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mamba<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>data-viz<span class="w"> </span>-f<span class="w"> </span>https://raw.githubusercontent.com/coderefinery/data-visualization-python/main/software/environment.yml
</pre></div>
</div>
</div><div aria-labelledby="tab-0-TGludXggLyBNYWNPUw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TGludXggLyBNYWNPUw==" name="TGludXggLyBNYWNPUw==" role="tabpanel" tabindex="0"><p>Each time you start a new command line terminal,
you can activate Miniforge by running
(without the <code class="docutils literal notranslate"><span class="pre">$</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">source</span><span class="w"> </span>~/miniforge3/bin/activate
</pre></div>
</div>
<p>This is needed so that
Miniforge is usable wherever you need, but doesn’t affect any
other software on your computer (this is not needed if you
choose “Do you wish to update your shell profile to
automatically initialize conda?”, but then it will always be
active).</p>
<p>In the second step, we will install the software environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mamba<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>data-viz<span class="w"> </span>-f<span class="w"> </span>https://raw.githubusercontent.com/coderefinery/data-visualization-python/main/software/environment.yml
</pre></div>
</div>
</div></div>
</section>
<section id="starting-jupyterlab">
<h4>Starting JupyterLab<a class="headerlink" href="#starting-jupyterlab" title="Link to this heading"></a></h4>
<p>Every time we want to start a JupyterLab session,
we will have to go through the command line and first
activate the <code class="docutils literal notranslate"><span class="pre">data-viz</span></code> environment.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-V2luZG93cw==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="0">Windows</button><button aria-controls="panel-1-TGludXggLyBNYWNPUw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TGludXggLyBNYWNPUw==" name="TGludXggLyBNYWNPUw==" role="tab" tabindex="-1">Linux / MacOS</button></div><div aria-labelledby="tab-1-V2luZG93cw==" class="sphinx-tabs-panel group-tab" id="panel-1-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><p>Start the Miniforge Prompt. Then type
(without the <code class="docutils literal notranslate"><span class="pre">$</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>activate<span class="w"> </span>data-viz
<span class="gp">$ </span>jupyter-lab
</pre></div>
</div>
</div><div aria-labelledby="tab-1-TGludXggLyBNYWNPUw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TGludXggLyBNYWNPUw==" name="TGludXggLyBNYWNPUw==" role="tabpanel" tabindex="0"><p>Start the terminal and in the terminal, type
(without the <code class="docutils literal notranslate"><span class="pre">$</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">source</span><span class="w"> </span>~/miniforge3/bin/activate
<span class="gp">$ </span>conda<span class="w"> </span>activate<span class="w"> </span>data-viz
<span class="gp">$ </span>jupyter-lab
</pre></div>
</div>
</div></div>
</section>
<section id="removing-the-software-environment">
<h4>Removing the software environment<a class="headerlink" href="#removing-the-software-environment" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-V2luZG93cw==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="0">Windows</button><button aria-controls="panel-2-TGludXggLyBNYWNPUw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-TGludXggLyBNYWNPUw==" name="TGludXggLyBNYWNPUw==" role="tab" tabindex="-1">Linux / MacOS</button></div><div aria-labelledby="tab-2-V2luZG93cw==" class="sphinx-tabs-panel group-tab" id="panel-2-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><p>In the Miniforge Prompt, type
(without the <code class="docutils literal notranslate"><span class="pre">$</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>list
<span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>remove<span class="w"> </span>--name<span class="w"> </span>data-viz
<span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>list
</pre></div>
</div>
</div><div aria-labelledby="tab-2-TGludXggLyBNYWNPUw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-TGludXggLyBNYWNPUw==" name="TGludXggLyBNYWNPUw==" role="tabpanel" tabindex="0"><p>In the terminal, type
(without the <code class="docutils literal notranslate"><span class="pre">$</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">source</span><span class="w"> </span>~/miniforge3/bin/activate
<span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>list
<span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>remove<span class="w"> </span>--name<span class="w"> </span>data-viz
<span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>list
</pre></div>
</div>
</div></div>
</section>
<section id="how-to-verify-your-installation">
<h4>How to verify your installation<a class="headerlink" href="#how-to-verify-your-installation" title="Link to this heading"></a></h4>
<p><strong>Start JupyterLab</strong> (as described above).  It will hopefully open up your browser
and look like this:</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/testing-jupyter1.png"><img alt="JupyterLab opened in the browser" src="_images/testing-jupyter1.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">JupyterLab opened in the browser. Click on the Python 3 tile.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Once you clicked the Python 3 tile it should look like this:</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/testing-jupyter2.png"><img alt="Python 3 notebook started" src="_images/testing-jupyter2.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Python 3 notebook started.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Into that blue “cell” please type the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">altair</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;all good - ready for the course&quot;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="_images/testing-jupyter3.png"><img alt="Screenshot where we test to import required libraries." src="_images/testing-jupyter3.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Please copy these lines and click on the “play”/”run” icon.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>This is how it should look:</p>
<figure class="align-default" id="id4">
<a class="reference internal image-reference" href="_images/testing-jupyter4.png"><img alt="Screenshot after successful import." src="_images/testing-jupyter4.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Screenshot after successful import.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>If this worked, you are all set and can close JupyterLab (no need to save these
changes).</p>
<p>This is how it <strong>should not</strong> look:</p>
<figure class="align-default" id="id5">
<a class="reference internal image-reference" href="_images/testing-jupyter5.png"><img alt="Required packages could not be found." src="_images/testing-jupyter5.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Error: required packages could not be found.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</div>
</section>
<section id="inspiration-for-this-lesson-and-further-reading">
<h2>Inspiration for this lesson and further reading<a class="headerlink" href="#inspiration-for-this-lesson-and-further-reading" title="Link to this heading"></a></h2>
<p>CodeRefinery lessons:</p>
<ul class="simple">
<li><p>Git intro: https://doi.org/10.5281/zenodo.16925023</p></li>
<li><p>Git collaborative: https://doi.org/10.5281/zenodo.16925120</p></li>
<li><p>Jupyter: https://doi.org/10.5281/zenodo.16410839</p></li>
<li><p>GitHub without command line: https://coderefinery.github.io/github-without-command-line/</p></li>
</ul>
<p>Skills4EOSC data steward curriculum</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright CodeRefinery contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>